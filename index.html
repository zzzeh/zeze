<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>薯薯的字体仓库</title>
    <link rel="icon" type="image/jpeg" href="data:image/jpeg;base64,/9j/4QSTRXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAhAAAAcgEyAAIAAAAUAAAAk4dpAAQAAAABAAAAqAAAANQACvyAAAAnEAAK/IAAACcQQWRvYmUgUGhvdG9zaG9wIDI2LjggKE1hY2ludG9zaCkAMjAyNTowODowNyAxNjo0MTo1MgAAAAOgAQADAAAAAf//AACgAgAEAAAAAQAAAECgAwAEAAAAAQAAAEAAAAAAAAAABgEDAAMAAAABAAYAAAEaAAUAAAABAAABIgEbAAUAAAABAAABKgEoAAMAAAABAAIAAAIBAAQAAAABAAABMgICAAQAAAABAAADWQAAAAAAAABIAAAAAQAAAEgAAAAB/9j/7QAMQWRvYmVfQ00AAf/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUTExgRDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4ODg4UEQwMDAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAEAAQAMBIgACEQEDEQH/3QAEAAT/xAE/AAABBQEBAQEBAQAAAAAAAAADAAECBAUGBwgJCgsBAAEFAQEBAQEBAAAAAAAAAAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSRobFCIyQVUsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIRAyExEgRBUWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVVNnRl4vKzhMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEAAhEDEQA/AOuJMpSUjymWe6q8lKSmSSUvJSkpkklLyUgTKZOOUlP/0OuPKodSycipkY7Zer55Q7H1MG6wgDzWe6wanScjKvqLsgbXK8maWES2I8k6SlLIzqeq2ZU0wKmjSe610LIyacZm+1waPNEKCsb1vRaLvpgaow5QqMiq9u6shw8kUcoKf//R648rkfrNk5Jz/RMtpa0FvgSuuPKBkYePkx6zA6PFZ7rA05H1VNzsZ7rCS0Ohk+C1LepYdNopssDX+CPXVXUwMraGtHACwOsfV/Jvvdk43u3ctJSTuXXb1PCdaKm2AuPCw/rRTlm1tgBdRHbsVHp31azje26+GMYQedTC6d7GvZscJHgUlbHu859VXZPqPa4EUkd/FdKOVFjK62ba2ho7wpDlJBNv/9LrjymTkGUoKz3VWSTwUoKSlkk8FKCkpZOOUoKQBlJT/9n/7QymUGhvdG9zaG9wIDMuMAA4QklNBCUAAAAAABAAAAAAAAAAAAAAAAAAAAAAOEJJTQQ6AAAAAADXAAAAEAAAAAEAAAAAAAtwcmludE91dHB1dAAAAAUAAAAAUHN0U2Jvb2wBAAAAAEludGVlbnVtAAAAAEludGUAAAAASW1nIAAAAA9wcmludFNpeHRlZW5CaXRib29sAAAAAAtwcmludGVyTmFtZVRFWFQAAAABAAAAAAAPcHJpbnRQcm9vZlNldHVwT2JqYwAAAAVoIWg3i75/bgAAAAAACnByb29mU2V0dXAAAAABAAAAAEJsdG5lbnVtAAAADGJ1aWx0aW5Qcm9vZgAAAAlwcm9vZkNNWUsAOEJJTQQ7AAAAAAItAAAAEAAAAAEAAAAAABJwcmludE91dHB1dE9wdGlvbnMAAAAXAAAAAENwdG5ib29sAAAAAABDbGJyYm9vbAAAAAAAUmdzTWJvb2wAAAAAAENybkNib29sAAAAAABDbnRDYm9vbAAAAAAATGJsc2Jvb2wAAAAAAE5ndHZib29sAAAAAABFbWxEYm9vbAAAAAAASW50cmJvb2wAAAAAAEJja2dPYmpjAAAAAQAAAAAAAFJHQkMAAAADAAAAAFJkICBkb3ViQG/gAAAAAAAAAAAAR3JuIGRvdWJAb+AAAAAAAAAAAABCbCAgZG91YkBv4AAAAAAAAAAAAEJyZFRVbnRGI1JsdAAAAAAAAAAAAAAAAEJsZCBVbnRGI1JsdAAAAAAAAAAAAAAAAFJzbHRVbnRGI1B4bEBSAAAAAAAAAAAACnZlY3RvckRhdGFib29sAQAAAABQZ1BzZW51bQAAAABQZ1BzAAAAAFBnUEMAAAAATGVmdFVudEYjUmx0AAAAAAAAAAAAAAAAVG9wIFVudEYjUmx0AAAAAAAAAAAAAAAAU2NsIFVudEYjUHJjQFkAAAAAAAAAAAAQY3JvcFdoZW5QcmludGluZ2Jvb2wAAAAADmNyb3BSZWN0Qm90dG9tbG9uZwAAAAAAAAAMY3JvcFJlY3RMZWZ0bG9uZwAAAAAAAAANY3JvcFJlY3RSaWdodGxvbmcAAAAAAAAAC2Nyb3BSZWN0VG9wbG9uZwAAAAAAOEJJTQPtAAAAAAAQAEgAAAABAAIASAAAAAEAAjhCSU0EJgAAAAAADgAAAAAAAAAAAAA/gAAAOEJJTQQNAAAAAAAEAAAAWjhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAAAAEAOEJJTScQAAAAAAAKAAEAAAAAAAAAAjhCSU0D9QAAAAAASAAvZmYAAQBsZmYABgAAAAAAAQAvZmYAAQChmZoABgAAAAAAAQAyAAAAAQBaAAAABgAAAAAAAQA1AAAAAQAtAAAABgAAAAAAAThCSU0D+AAAAAAAcAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAA4QklNBAAAAAAAAAIABzhCSU0EAgAAAAAAEAAAAAAAAAAAAAAAAAAAAAA4QklNBDAAAAAAAAgBAQEBAQEBAThCSU0ELQAAAAAAAgAAOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0ERAAAAAAAEAAAAAIAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANHAAAABgAAAAAAAAAAAAAAQAAAAEAAAAAJf1GYdQBmAGEAdgBpAGMAbwBuAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABAAAAAAAAbnVsbAAAAAIAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAA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PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMyA3OS45NjkwYTg3ZmMsIDIwMjUvMDMvMDYtMjA6NTA6MTYgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjUtMDgtMDdUMTU6NTc6NDMrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI1LTA4LTA3VDE2OjQxOjUyKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI1LTA4LTA3VDE2OjQxOjUyKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJEaXNwbGF5IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBjYjA0MDNhLTg1NGUtNGVlMC04NGVkLWY3YzkxNGZmNjBhNiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmRlMjI2M2Y3LTdhNmMtZTc0ZC1hNjExLTNjY2I1YTAwNjNmMCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjQ2YzM2MDNmLTc4YmQtNDgwOS1iZDFkLWRjZjViYWU2MTJhNiI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDZjMzYwM2YtNzhiZC00ODA5LWJkMWQtZGNmNWJhZTYxMmE2IiBzdEV2dDp3aGVuPSIyMDI1LTA4LTA3VDE1OjU3OjQzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6N2NlMzM2NDYtMTM2Yi00ODhjLTkzNTAtOTY2YWY1MTViOGE0IiBzdEV2dDp3aGVuPSIyMDI1LTA4LTA3VDE2OjQxOjUyKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjYuOCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowY2IwNDAzYS04NTRlLTRlZTAtODRlZC1mN2M5MTRmZjYwYTYiIHN0RXZ0OndoZW49IjIwMjUtMDgtMDdUMTY6NDE6NTIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNi44IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3Y2UzMzY0Ni0xMzZiLTQ4OGMtOTM1MC05NjZhZjUxNWI4YTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDZjMzYwM2YtNzhiZC00ODA5LWJkMWQtZGNmNWJhZTYxMmE2IiBzdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDZjMzYwM2YtNzhiZC00ODA5LWJkMWQtZGNmNWJhZTYxMmE2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/4g/wSUNDX1BST0ZJTEUAAQEAAA/gYXBwbAIQAABtbnRyUkdCIFhZWiAH6QAHAAMAAQAwABNhY3NwQVBQTAAAAABBUFBMAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWFwcGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFkZXNjAAABUAAAAGJkc2NtAAABtAAABLxjcHJ0AAAGcAAAACN3dHB0AAAGlAAAABRyWFlaAAAGqAAAABRnWFlaAAAGvAAAABRiWFlaAAAG0AAAABRyVFJDAAAG5AAACAxhYXJnAAAO8AAAACB2Y2d0AAAPEAAAADBuZGluAAAPQAAAAD5tbW9kAAAPgAAAACh2Y2dwAAAPqAAAADhiVFJDAAAG5AAACAxnVFJDAAAG5AAACAxhYWJnAAAO8AAAACBhYWdnAAAO8AAAACBkZXNjAAAAAAAAAAhEaXNwbGF5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbWx1YwAAAAAAAAAnAAAADGhySFIAAAAUAAAB5GtvS1IAAAAMAAAB+G5iTk8AAAASAAACBGlkAAAAAAASAAACFmh1SFUAAAAUAAACKGNzQ1oAAAAWAAACPHNsU0kAAAAUAAACUmRhREsAAAAcAAACZm5sTkwAAAAWAAACgmZpRkkAAAAQAAACmGl0SVQAAAAYAAACqGVzRVMAAAAWAAACwHJvUk8AAAASAAAC1mZyQ0EAAAAWAAAC6GFyAAAAAAAUAAAC/nVrVUEAAAAcAAADEmhlSUwAAAAWAAADLnpoVFcAAAAKAAADRHZpVk4AAAAOAAADTnNrU0sAAAAWAAADXHpoQ04AAAAKAAADRHJ1UlUAAAAkAAADcmVuR0IAAAAUAAADlmZyRlIAAAAWAAADqm1zAAAAAAASAAADwGhpSU4AAAASAAAD0nRoVEgAAAAMAAAD5GNhRVMAAAAYAAAD8GVuQVUAAAAUAAADlmVzWEwAAAASAAAC1mRlREUAAAAQAAAECGVuVVMAAAASAAAEGHB0QlIAAAAYAAAEKnBsUEwAAAASAAAEQmVsR1IAAAAiAAAEVHN2U0UAAAAQAAAEdnRyVFIAAAAUAAAEhnB0UFQAAAAWAAAEmmphSlAAAAAMAAAEsABMAEMARAAgAHUAIABiAG8AagBpzuy37AAgAEwAQwBEAEYAYQByAGcAZQAtAEwAQwBEAEwAQwBEACAAVwBhAHIAbgBhAFMAegDtAG4AZQBzACAATABDAEQAQgBhAHIAZQB2AG4A/QAgAEwAQwBEAEIAYQByAHYAbgBpACAATABDAEQATABDAEQALQBmAGEAcgB2AGUAcwBrAOYAcgBtAEsAbABlAHUAcgBlAG4ALQBMAEMARABWAOQAcgBpAC0ATABDAEQATABDAEQAIABhACAAYwBvAGwAbwByAGkATABDAEQAIABhACAAYwBvAGwAbwByAEwAQwBEACAAYwBvAGwAbwByAEEAQwBMACAAYwBvAHUAbABlAHUAciAPAEwAQwBEACAGRQZEBkgGRgYpBBoEPgQ7BEwEPgRABD4EMgQ4BDkAIABMAEMARCAPAEwAQwBEACAF5gXRBeIF1QXgBdlfaYJyAEwAQwBEAEwAQwBEACAATQDgAHUARgBhAHIAZQBiAG4A/QAgAEwAQwBEBCYEMgQ1BEIEPQQ+BDkAIAQWBBoALQQ0BDgEQQQ/BDsENQQ5AEMAbwBsAG8AdQByACAATABDAEQATABDAEQAIABjAG8AdQBsAGUAdQByAFcAYQByAG4AYQAgAEwAQwBECTAJAgkXCUAJKAAgAEwAQwBEAEwAQwBEACAOKg41AEwAQwBEACAAZQBuACAAYwBvAGwAbwByAEYAYQByAGIALQBMAEMARABDAG8AbABvAHIAIABMAEMARABMAEMARAAgAEMAbwBsAG8AcgBpAGQAbwBLAG8AbABvAHIAIABMAEMARAOIA7MDxwPBA8kDvAO3ACADvwO4A8wDvQO3ACAATABDAEQARgDkAHIAZwAtAEwAQwBEAFIAZQBuAGsAbABpACAATABDAEQATABDAEQAIABhACAAYwBvAHIAZQBzMKsw6TD8AEwAQwBEdGV4dAAAAABDb3B5cmlnaHQgQXBwbGUgSW5jLiwgMjAyNQAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAg98AAD2/////u1hZWiAAAAAAAABKvwAAsTcAAAq5WFlaIAAAAAAAACg4AAARCwAAyLljdXJ2AAAAAAAABAAAAAAFAAoADwAUABkAHgAjACgALQAyADYAOwBAAEUASgBPAFQAWQBeAGMAaABtAHIAdwB8AIEAhgCLAJAAlQCaAJ8AowCoAK0AsgC3ALwAwQDGAMsA0ADVANsA4ADlAOsA8AD2APsBAQEHAQ0BEwEZAR8BJQErATIBOAE+AUUBTAFSAVkBYAFnAW4BdQF8AYMBiwGSAZoBoQGpAbEBuQHBAckB0QHZAeEB6QHyAfoCAwIMAhQCHQImAi8COAJBAksCVAJdAmcCcQJ6AoQCjgKYAqICrAK2AsECywLVAuAC6wL1AwADCwMWAyEDLQM4A0MDTwNaA2YDcgN+A4oDlgOiA64DugPHA9MD4APsA/kEBgQTBCAELQQ7BEgEVQRjBHEEfgSMBJoEqAS2BMQE0wThBPAE/gUNBRwFKwU6BUkFWAVnBXcFhgWWBaYFtQXFBdUF5QX2BgYGFgYnBjcGSAZZBmoGewaMBp0GrwbABtEG4wb1BwcHGQcrBz0HTwdhB3QHhgeZB6wHvwfSB+UH+AgLCB8IMghGCFoIbgiCCJYIqgi+CNII5wj7CRAJJQk6CU8JZAl5CY8JpAm6Cc8J5Qn7ChEKJwo9ClQKagqBCpgKrgrFCtwK8wsLCyILOQtRC2kLgAuYC7ALyAvhC/kMEgwqDEMMXAx1DI4MpwzADNkM8w0NDSYNQA1aDXQNjg2pDcMN3g34DhMOLg5JDmQOfw6bDrYO0g7uDwkPJQ9BD14Peg+WD7MPzw/sEAkQJhBDEGEQfhCbELkQ1xD1ERMRMRFPEW0RjBGqEckR6BIHEiYSRRJkEoQSoxLDEuMTAxMjE0MTYxODE6QTxRPlFAYUJxRJFGoUixStFM4U8BUSFTQVVhV4FZsVvRXgFgMWJhZJFmwWjxayFtYW+hcdF0EXZReJF64X0hf3GBsYQBhlGIoYrxjVGPoZIBlFGWsZkRm3Gd0aBBoqGlEadxqeGsUa7BsUGzsbYxuKG7Ib2hwCHCocUhx7HKMczBz1HR4dRx1wHZkdwx3sHhYeQB5qHpQevh7pHxMfPh9pH5Qfvx/qIBUgQSBsIJggxCDwIRwhSCF1IaEhziH7IiciVSKCIq8i3SMKIzgjZiOUI8Ij8CQfJE0kfCSrJNolCSU4JWgllyXHJfcmJyZXJocmtyboJxgnSSd6J6sn3CgNKD8ocSiiKNQpBik4KWspnSnQKgIqNSpoKpsqzysCKzYraSudK9EsBSw5LG4soizXLQwtQS12Last4S4WLkwugi63Lu4vJC9aL5Evxy/+MDUwbDCkMNsxEjFKMYIxujHyMioyYzKbMtQzDTNGM38zuDPxNCs0ZTSeNNg1EzVNNYc1wjX9Njc2cjauNuk3JDdgN5w31zgUOFA4jDjIOQU5Qjl/Obw5+To2OnQ6sjrvOy07azuqO+g8JzxlPKQ84z0iPWE9oT3gPiA+YD6gPuA/IT9hP6I/4kAjQGRApkDnQSlBakGsQe5CMEJyQrVC90M6Q31DwEQDREdEikTORRJFVUWaRd5GIkZnRqtG8Ec1R3tHwEgFSEtIkUjXSR1JY0mpSfBKN0p9SsRLDEtTS5pL4kwqTHJMuk0CTUpNk03cTiVObk63TwBPSU+TT91QJ1BxULtRBlFQUZtR5lIxUnxSx1MTU19TqlP2VEJUj1TbVShVdVXCVg9WXFapVvdXRFeSV+BYL1h9WMtZGllpWbhaB1pWWqZa9VtFW5Vb5Vw1XIZc1l0nXXhdyV4aXmxevV8PX2Ffs2AFYFdgqmD8YU9homH1YklinGLwY0Njl2PrZEBklGTpZT1lkmXnZj1mkmboZz1nk2fpaD9olmjsaUNpmmnxakhqn2r3a09rp2v/bFdsr20IbWBtuW4SbmtuxG8eb3hv0XArcIZw4HE6cZVx8HJLcqZzAXNdc7h0FHRwdMx1KHWFdeF2Pnabdvh3VnezeBF4bnjMeSp5iXnnekZ6pXsEe2N7wnwhfIF84X1BfaF+AX5ifsJ/I3+Ef+WAR4CogQqBa4HNgjCCkoL0g1eDuoQdhICE44VHhauGDoZyhteHO4efiASIaYjOiTOJmYn+imSKyoswi5aL/IxjjMqNMY2Yjf+OZo7OjzaPnpAGkG6Q1pE/kaiSEZJ6kuOTTZO2lCCUipT0lV+VyZY0lp+XCpd1l+CYTJi4mSSZkJn8mmia1ZtCm6+cHJyJnPedZJ3SnkCerp8dn4uf+qBpoNihR6G2oiailqMGo3aj5qRWpMelOKWpphqmi6b9p26n4KhSqMSpN6mpqhyqj6sCq3Wr6axcrNCtRK24ri2uoa8Wr4uwALB1sOqxYLHWskuywrM4s660JbSctRO1irYBtnm28Ldot+C4WbjRuUq5wro7urW7LrunvCG8m70VvY++Cr6Evv+/er/1wHDA7MFnwePCX8Lbw1jD1MRRxM7FS8XIxkbGw8dBx7/IPci8yTrJuco4yrfLNsu2zDXMtc01zbXONs62zzfPuNA50LrRPNG+0j/SwdNE08bUSdTL1U7V0dZV1tjXXNfg2GTY6Nls2fHadtr724DcBdyK3RDdlt4c3qLfKd+v4DbgveFE4cziU+Lb42Pj6+Rz5PzlhOYN5pbnH+ep6DLovOlG6dDqW+rl63Dr++yG7RHtnO4o7rTvQO/M8Fjw5fFy8f/yjPMZ86f0NPTC9VD13vZt9vv3ivgZ+Kj5OPnH+lf65/t3/Af8mP0p/br+S/7c/23//3BhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbdmNndAAAAAAAAAABAAEAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAQAAbmRpbgAAAAAAAAA2AACuFAAAUewAAEPXAACwpAAAJmYAAA9cAABQDQAAVDkAAjMzAAIzMwACMzMAAAAAAAAAAG1tb2QAAAAAAAAGEAAAoFD9Ym1iAAAAAAAAAAAAAAAAAAAAAAAAAAB2Y2dwAAAAAAADAAAAAmZmAAMAAAACZmYAAwAAAAJmZgAAAAIzMzQAAAAAAjMzNAAAAAACMzM0AP/uAA5BZG9iZQBkQAAAAAH/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAgICAgICAgICAgMDAwMDAwMDAwMBAQEBAQEBAQEBAQICAQICAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA//AABEIAEAAQAMBEQACEQEDEQH/3QAEAAj/xAGiAAAABgIDAQAAAAAAAAAAAAAHCAYFBAkDCgIBAAsBAAAGAwEBAQAAAAAAAAAAAAYFBAMHAggBCQAKCxAAAgEDBAEDAwIDAwMCBgl1AQIDBBEFEgYhBxMiAAgxFEEyIxUJUUIWYSQzF1JxgRhikSVDobHwJjRyChnB0TUn4VM2gvGSokRUc0VGN0djKFVWVxqywtLi8mSDdJOEZaOzw9PjKThm83UqOTpISUpYWVpnaGlqdnd4eXqFhoeIiYqUlZaXmJmapKWmp6ipqrS1tre4ubrExcbHyMnK1NXW19jZ2uTl5ufo6er09fb3+Pn6EQACAQMCBAQDBQQEBAYGBW0BAgMRBCESBTEGACITQVEHMmEUcQhCgSORFVKhYhYzCbEkwdFDcvAX4YI0JZJTGGNE8aKyJjUZVDZFZCcKc4OTRnTC0uLyVWV1VjeEhaOzw9Pj8ykalKS0xNTk9JWltcXV5fUoR1dmOHaGlqa2xtbm9md3h5ent8fX5/dIWGh4iJiouMjY6Pg5SVlpeYmZqbnJ2en5KjpKWmp6ipqqusra6vr/2gAMAwEAAhEDEQA/ANiSSSUSOPLIbOwuXa5sTyefr7xPZ31N3Hj69ZxKq6V7Rw64+WX/AI6P/wAlt/xX3XW/8R/b1bSv8I695Zf+Oj/8lt/xX37W/wDEf29e0r/COveWX/jo/wDyW3/Ffftb/wAR/b17Sv8ACOveWX/jo/8AyW3/ABX37W/8R/b17Sv8I695Zf8Ajo//ACW3/Ffftb/xH9vXtK/wjr3ll/46P/yW3/Ffftb/AMR/b17Sv8I65RySmRB5ZBd1Fw7XFyORz9fdld9S9x4+vVWVdLdo4df/0NiKX/Oyf8Hf/oY+8TX+NvtPWci/Cv2dY/derde9+691737r3Xvfuvde9+691737r3WSL/Ox/wDB0/6GHuyfGv2jqrfC32df/9HYil/zsn/B3/6GPvE1/jb7T1nIvwr9nRTvkb2V2DtbDS0/XGKNbm445ZQWTUhCpqUAshU8/Xn8e08zyLQRgE9GlhDasS921I+sfxS3/wBm792rV13ZmOOPykRVUjMXiuddj/QHj2prWNK/F59JrtYVlItx+l5dGx906TdeP0Nvr+PfuvdVz95bO+Ue6O1JKjZD46l2hjqVFojWOiPVxuFeqWIBGZ2D/XVx7UyEaIxCe6uel1pcW0Kv46mh9OjudajdibPw8G9YYotwwUqRVphYNE7KNKstgtvSBfj23Np11U46SSGNnLRDsPDoQIv87H/wdP8AoYe6J8a/aOmm+Fvs6//S2Ipf87J/wd/+hj7xNf42+09ZyL8K/Z0l9xZrbOBpDW7jqcZSUpdYzLXmmVWZiAFvOQGNz9PfgrNWnVwGNAAenHGVGIqKeObEvQtTyoroaLwCNlYAgjw+k+/UNPl1ogjBHTn7r17r3v3XukD2F2TtPrPDLm915ihxVJJJ4YWrKiOHyyXF1j1spb/YX9qIoGkUuDjqyBXcIWoes+xt/wC2+wcYMttrI0uRpNKFpaWZJlUvfSGKMbE29tvHopnrckZjah4eXS7i/wA7H/wdP+hh7qnxr9o6ab4W+zr/09iKX/Oyf8Hf/oY+8TX+NvtPWci/Cv2da6/8yvsfsOq70m2TUTZjGbGxeDxldiFiM9PQ19fUxA1kvmQqkzxEWAv6R7TXEjr8DUHQl2u3gaEO4BkzjzHRx/5Wkm8cp1vuXIblr8vV42jz8lLgGycs8uuhWBCzQNPctEshIBHHHtWspeGOo7/P59Fe4Ksc7Kpx/g6PTun5IdO7N3VDsvcG88Zj9wy6CaOaZAIlcnmWTVpRrDgG3u6QOwBxQ9IvDkK6ghK9RKL5N9M5PdNLs/H70xVXl64rHTRw1EZR5XOkRly9tRJ4te/vTwshpUE9WMThNdDp6qs/me7P7Zn3PgdwQU2YzHXUVJphTHxTz02PrWJ8jzxQggFhazH8e630h+niCYFc06NdmS3d3Zwok8qnp7/la13ZSbi3Bjq+iysGxKigaZZq2GWOJa2C6xLH5BddWo8fm3tLarJlpK6D69Kd2+nMaqlPFB8uru4v87H/AMHT/oYe1CfGv2joNt8LfZ1//9TYil/zsn/B3/6GPvE1/jb7T1nIvwr9nQWb/wCnOvOzjRNvTbWOzZoZVki+8p45LqCNUZZlLWYD+vvXGgIx06kskZ1I5B6WO3trbd2lioMJtnD0OExVNH44aGggSCFEP1GlFUEn+vvdfTrTuznUxq3VRXy//l/dkb831k+0OsXp8mmVKtW4qoq1pqimkhAAemlkZQEP9L+007OWBViKdHlhdRLF4c6ih6Cr48fy2u8K7emE3pvmSk21hNu5akycxXJrUZOtejkWUQRGJ20q2mxufp7rCzpIGcknp68ngMDRxUz1ellMJj8ziThcpTRVlCYVhaCeNJUYIoUaldSD9Ofatm1YIx0HAxVqqaHrLhMFt3bOLGL2/hKLFQsyyTvTRIjzTWGp2ZVBsbcD8D3oE0oTXq8kpkJY8enWL/Ox/wDB0/6GHvafGv2jplvhb7Ov/9XYil/zsn/B3/6GPvE1/jb7T1nIvwr9nWP3Xq3Xvfuvde9+691737r3Xvfuvde9+691ki/zsf8AwdP+hh7snxr9o6q3wt9nX//W2JJI5TI58Ugu7GxRri5PB4+vvE9kfU3aePp1nErLpXuHDrj4pf8Ajm//ACQ3/FPddD/wn9nVtS/xDr3il/45v/yQ3/FPftD/AMJ/Z17Uv8Q694pf+Ob/APJDf8U9+0P/AAn9nXtS/wAQ694pf+Ob/wDJDf8AFPftD/wn9nXtS/xDr3il/wCOb/8AJDf8U9+0P/Cf2de1L/EOveKX/jm//JDf8U9+0P8Awn9nXtS/xDrlHHKJEPikNnU2CNc2I4HH192VH1L2nj6dVZl0t3Dh1//Z" />



    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* 内置字体定义 */
        @font-face {
    font-family: '82KVfont';
    src: url('data:font/woff2;charset=utf-8;base64,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') format('woff2'),
        url('data:font/woff;charset=utf-8;base64,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') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

        
        /* 添加字体加载检测 */
        .font-loading-test {
            font-family: '82KVfont', sans-serif;
            position: absolute;
            left: -9999px;
            top: -9999px;
            visibility: hidden;
        }
        
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: white;
            min-height: 100vh;
            overflow: hidden;
        }
        .container {
            width: 100vw;
            height: 100vh;
            background: rgba(248, 248, 248, 1);
            display: flex;
            overflow: hidden;
            min-width: 0 !important;
        }
        .left-panel {
            width: 383px !important;
            background: rgba(248, 248, 248, 1) !important;
            padding: 22px !important;
            border-right: none !important;
            display: flex !important;
            flex-direction: column !important;
            gap: 43.2px !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            min-width: 383px !important;
            max-width: 383px !important;
            box-sizing: border-box !important;
            flex-shrink: 0 !important;
            position: relative !important;
        }
        .main-right-panel {
            flex: 1;
            padding: 22px 22px 22px 22px !important;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: stretch;
            overflow: hidden;
            background: #F8F8F8 !important;
            min-width: 0 !important;
            width: auto !important;
            flex-shrink: 1 !important;
            position: relative !important;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            border-radius: 20px 20px 0 0;
        }
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 300;
        }
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        .upload-area {
            border: none !important;
            border-radius: 5.4px !important;
            padding: 0 !important;
            text-align: center !important;
            background: rgba(248, 248, 248, 1) !important;
            transition: all 0.3s ease !important;
            cursor: pointer !important;
            position: relative !important;
            height: 195.3px !important;
            width: 340.2px !important;
            display: block !important;
            box-sizing: border-box !important;
            margin: 0 auto !important;
            overflow: visible !important;
            min-height: 195.3px !important;
        }
        .upload-area:hover, .upload-area.dragover {
            background: rgba(0,0,0,0.05) !important;
            border-color: rgba(0,0,0,0.2) !important;
        }
        .upload-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0px;
        }
        
        .upload-icon {
            font-size: 18.9px;
            color: rgba(0,0,0,1);
            margin-bottom: 0;
            font-family: Inter, sans-serif;
            text-align: center;
        }
        .upload-text {
            font-size: 18.9px;
            color: rgba(0,0,0,1);
            margin-bottom: 0;
            font-family: Inter, sans-serif;
            line-height: normal;
            white-space: nowrap;
            text-align: center;
        }
        .upload-subtext {
            color: rgba(0,0,0,1);
            font-size: 18.9px;
            font-family: Inter, sans-serif;
            line-height: normal;
            white-space: nowrap;
            text-align: center;
        }
        
        .upload-line-top {
            position: absolute;
            top: 0;
            left: 0;
            width: 340.2px;
            height: 2px;
            background: #5888E7 !important;
            border-radius: 0px;
            z-index: 1000;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 0 !important;
            transform: translateZ(0) !important;
            line-height: 0 !important;
        }
        
        .upload-line-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 340.2px;
            height: 2px;
            background: #5888E7 !important;
            border-radius: 0px;
            z-index: 1000;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 0 !important;
            transform: translateZ(0) !important;
            line-height: 0 !important;
        }
        
        .right-panel-line-top {
            position: absolute;
            top: 22px;
            left: 4px;
            right: 22px;
            height: 2px;
            background: #5888E7 !important;
            border-radius: 0px;
            z-index: 9999;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 0 !important;
            transform: translateZ(0) !important;
            line-height: 0 !important;
        }
        
        .right-panel-line-bottom {
            position: fixed;
            bottom: 22px;
            left: 387.4px;
            right: 22px;
            height: 2px;
            background: #5888E7 !important;
            border-radius: 0px;
            z-index: 9999;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 0 !important;
            transform: translateZ(0) !important;
            line-height: 0 !important;
        }
        #fileInput { display: none; }
        .progress-container {
            margin-top: 18px;
            display: none;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }
        .progress-text {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        .error-message, .success-message {
            padding: 12px;
            border-radius: 0px;
            margin: 10px 0 0 0;
            display: none;
            font-size: 0.98rem;
        }
        .error-message { background: #ff6b6b; color: white; }
        .success-message { 
            background: #5888E7; 
            color: #000000; 
            width: 340.2px;
            margin: 10px auto 0 auto;
        }
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            position: relative;
            width: 100%;
            min-width: 100%;
            flex: 1;
        }
        .input-label {
            font-size: 1rem;
            color: #333;
            margin-bottom: 2px;
        }
        .preview-input {
            padding: 8px 12px 10px 12px;
            border: none;
            border-radius: 0px;
            font-size: 19px;
            font-family: Inter, sans-serif;
            outline: none;
            transition: border 0.2s;
            background: #E9E9E9;
            position: relative;
            width: 100%;
            box-sizing: border-box;
            caret-color: transparent;
        }
        
        /* 自定义光标 */
        .custom-cursor {
            position: absolute;
            width: 2px;
            height: 22px;
            background: #5888E7;
            animation: blink 1s infinite;
            pointer-events: none;
            z-index: 1000;
            display: block;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        .preview-input:focus {
            border-color: #667eea;
        }
        .font-select {
            padding: 8px 32px 8px 12px;
            padding-left: 18px;
            border: none;
            border-radius: 0px;
            font-size: 19px;
            outline: none;
            background: rgba(248, 248, 248, 1);
            color: #333;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;utf8,<svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M6 9L12 15L18 9' stroke='%235888E7' stroke-width='1.5' stroke-linecap='butt' stroke-linejoin='miter'/></svg>");
            background-repeat: no-repeat;
            background-position: right 11px center;
            background-size: 28.5px 28.5px;
            width: 100%;
            box-sizing: border-box;
        }
        .font-list {
            margin-top: 10px;
            font-size: 0.95rem;
            color: #666;
            max-height: 120px;
            overflow-y: auto;
        }
        .font-list-item {
            margin-bottom: 4px;
        }
        /* 预览区每字方框样式 */
        .preview-outer {
            width: 100%;
            height: 100%;
            min-height: 100%;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .preview-box {
            width: 100%;
            height: 100%;
            min-height: 100%;
            background: transparent;
            border-radius: 15px;
            box-shadow: none;
            position: relative;
            overflow: hidden;
            display: block;
            margin: auto;
        }
        .preview-char {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border: none;
            border-radius: 0px;
            margin: 0;
            background: transparent;
            /* pointer-events: none;  // 移除，保证子元素可交互 */
            transition: border 0.2s, box-shadow 0.2s;
            user-select: none;
            position: absolute;
            z-index: 1;
            /* 字体大小由行内style控制 */
        }
        .preview-char.selected {
            /* 用outline模拟选中效果，避免border导致位移 */
            outline: 2px solid #5888E7;
            outline-offset: 1.5px;
            z-index: 10;
        }
        /* .preview-char:active {
            background: #f0f2ff;
        } */
        .char-inner {
            pointer-events: auto !important;
            cursor: pointer;
            border-radius: 0px;
            display: inline-block;
        }
        .font-info-table {
            width: 100%;
            max-width: 600px;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .font-info-table th, .font-info-table td {
            border: 1px solid #e0e0e0;
            padding: 8px 10px;
            font-size: 0.98rem;
            text-align: left;
        }
        .font-info-table th {
            background: #f0f2ff;
            color: #667eea;
        }
        /* 单字样式选择区 */
        .char-style-controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 8px;
            background: transparent;
            border-radius: 0px;
            box-shadow: none;
            padding: 0px;
            width: 100%;
            min-width: 100%;
            /* 移除 flex: 1; 避免拉伸到容器底部 */
        }
        .char-style-controls.inactive {
            opacity: 0.5;
            pointer-events: none;
        }
        .char-style-label {
            font-size: 0.98rem;
            color: #333;
            margin-bottom: 2px;
        }
        .color-input-container {
            position: relative;
            display: flex;
            align-items: center;
            width: 100%;
            min-width: 100%;
            max-width: 100%;
            flex: 1;
            gap: 0;
        }
        .char-color-code {
            padding: 10px 12px 8px 48px;
            border: none;
            border-radius: 0px;
            font-size: 19px;
            outline: none;
            transition: border 0.2s;
            width: 100%;
            min-width: 100%;
            flex: 1;
            min-height: 36px;
            background: #E9E9E9;
            box-sizing: border-box;
            position: relative;
            text-align: left;
        }

        .color-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            width: 100%;
            min-width: 0;
            flex: 1;
            flex-shrink: 1;
        }
        .color-prefix {
            display: none;
        }
        .char-color-code:focus {
            border-color: #667eea;
        }
        .custom-color-picker {
            position: absolute;
            left: 22px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            cursor: pointer;
            z-index: 1;
            flex-shrink: 0;
            pointer-events: auto;
        }
        .color-display {
            width: 18px;
            height: 18px;
            border: none;
            border-radius: 0px;
            background-color: #333333;
            cursor: pointer;
            transition: border 0.2s;
        }
        .color-display:hover {
            border-color: transparent;
        }
        .char-color-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            background: none;
            cursor: pointer;
            opacity: 0;
        }
        .preset-colors {
            display: flex;
            gap: 8px;
            margin-left: 22px;
            flex-shrink: 0;
        }
        .preset-color {
            width: 18px;
            height: 18px;
            border: none;
            border-radius: 0px;
            cursor: pointer;
            transition: border 0.2s;
        }
        .preset-color:hover {
            border-color: transparent;
        }
        .preset-color.active {
            border-color: transparent;
            box-shadow: none;
        }
        .position-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .position-input {
            width: 60px;
            padding: 6px 8px;
            border: 1.5px solid #bdbdbd;
            border-radius: 0px;
            font-size: 0.9rem;
            outline: none;
            text-align: center;
        }
        .position-input:focus {
            border-color: #667eea;
        }
        @media (max-width: 900px) {
            .container { flex-direction: column; }
            .left-panel, .main-right-panel { width: 100% !important; min-width: 0 !important; padding: 20px !important; }
            .main-right-panel { padding-top: 30px; }
        }
        @media (max-width: 600px) {
            .header { padding: 20px; }
            .preview-box { font-size: 1.2rem; padding: 20px 5px; }
        }
        .long-slider {
            flex: 1 1 auto;
            min-width: 0;
            width: 85%;
            margin: 0 8px;
        }
        /* 美化滑块，确保thumb能到达两端 */
        input[type=range].long-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            outline: none;
            margin: 0;
            padding: 0;
        }
        input[type=range].long-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #1976d2;
            cursor: pointer;
            margin-top: -6px;
            box-shadow: 0 0 2px #aaa;
            border: 2px solid #fff;
        }
        input[type=range].long-slider:focus::-webkit-slider-thumb {
            box-shadow: 0 0 0 3px #1976d233;
        }
        input[type=range].long-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #1976d2;
            cursor: pointer;
            border: 2px solid #fff;
        }
        input[type=range].long-slider::-ms-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #1976d2;
            cursor: pointer;
            border: 2px solid #fff;
        }
        input[type=range].long-slider::-ms-fill-lower,
        input[type=range].long-slider::-ms-fill-upper {
            background: #e0e0e0;
        }
        input[type=range].long-slider:focus {
            outline: none;
        }
        input[type=range].long-slider::-webkit-slider-runnable-track {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
        }
        input[type=range].long-slider::-moz-range-track {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
        }
        input[type=range].long-slider::-ms-fill-lower {
            background: #e0e0e0;
        }
        input[type=range].long-slider::-ms-fill-upper {
            background: #e0e0e0;
        }
        input[type=range].long-slider:focus::-ms-fill-lower {
            background: #e0e0e0;
        }
        input[type=range].long-slider:focus::-ms-fill-upper {
            background: #e0e0e0;
        }
        input[type=range].long-slider::-ms-tooltip {
            display: none;
        }
        /* 左侧字符按钮样式 */
        #charSelector .char-btn {
            border: none;
            background: #E9E9E9;
            color: #333;
            border-radius: 0px;
            padding: 8px 0px;
            width: 24px;
            height: 42px;
            font-size: 19px;
            cursor: pointer;
            transition: border 0.2s, background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: visible;
        }
        
        #charSelector .char-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: #5888E7;
            z-index: 10;
        }
        #charSelector .char-btn:hover {
            background: #E9E9E9;
        }
        #charSelector .char-btn.selected {
            background: #E9E9E9;
            color: #5888E7;
        }
        /* 框选矩形样式 */
        .selection-rect {
            position: absolute;
            border: none;
            background: transparent;
            pointer-events: none;
            z-index: 9999;
            /* 使用outline创建虚线效果 */
            outline: 2px dashed #5888E7;
            outline-offset: 0px;
        }
        .group-scale-bar {
            position: absolute;
            left: 50%;
            top: 10px;
            transform: translateX(-50%);
            z-index: 2000;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px #0001;
            padding: 6px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .group-scale-bar input[type=range] {
            width: 120px;
        }

        .resize-handle {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ffffff;
            border: 2px solid #5888E7;
            border-radius: 0px;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto !important;
        }
        .resize-handle:hover {
            background: #e0e7ff;
        }
        .resize-handle.nw { left: -8px; top: -8px; cursor: nwse-resize; }
        .resize-handle.ne { right: -8px; top: -8px; cursor: nesw-resize; }
        .resize-handle.sw { left: -8px; bottom: -8px; cursor: nesw-resize; }
        .resize-handle.se { right: -8px; bottom: -8px; cursor: nwse-resize; }
        .group-bbox {
            position: absolute;
            border: 2px solid #5888E7;
            border-radius: 0px;
            pointer-events: none;
            z-index: 1000;
            box-sizing: border-box;
        }
        .group-bbox .resize-handle {
            pointer-events: auto !important;
            background: #ffffff;
            border: 2px solid #5888E7;
            z-index: 1001;
        }
        /* 删除center-panel定义，使用main-right-panel */
        /* 删除冲突的right-panel定义 */
        .current-fonts {
            background: rgba(248, 248, 248, 1) !important;
            border-radius: 0px !important;
            box-shadow: none !important;
            padding: 0 !important;
            margin-top: -12px !important;
            font-size: 0.98em !important;
            position: relative !important;
            height: 691.2px !important;
            overflow: visible !important;
            flex-shrink: 0 !important;
            min-height: 691.2px !important;
            max-height: 691.2px !important;
            box-sizing: border-box !important;
            width: 340.2px !important;
        }
        .current-fonts-list {
            display: flex;
            flex-direction: column;
            gap: 0;
            height: 100%;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            box-sizing: border-box;
            padding: 0;
            align-items: center;
        }
        .current-fonts-list::-webkit-scrollbar {
            display: none;
        }
        
        /* 隐藏左侧面板的滚动条 */
        .left-panel::-webkit-scrollbar {
            display: none;
        }
        
        .left-panel {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .font-nav-arrow {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 45px;
            height: 30px;
            background: rgba(248, 248, 248, 1);
            border-radius: 23px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #5888E7;
            font-size: 18px;
            transition: all 0.3s ease;
            z-index: 10;
        }
        .font-nav-arrow:hover {
            background: rgba(248, 248, 248, 1);
        }
        .font-nav-arrow.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .font-nav-arrow.up {
            top: 5px;
        }
        .font-nav-arrow.down {
            bottom: 5px;
        }
        
        /* 新的字体列表项样式 */
        .current-font-item {
            transition: all 0.3s ease !important;
            flex-shrink: 0 !important;
            min-height: 115.2px !important;
            height: 115.2px !important;
        }
        

        .font-content-area:hover {
            background: rgba(0,0,0,0.05) !important;
        }
        
        .font-preview-btn:hover {
            background: rgba(0,0,0,0.05) !important;
        }
        
        .font-download-btn:hover {
            background: rgba(0,0,0,0.05) !important;
        }
        
        .font-meta-vertical {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 2px;
            margin-top: 4px;
            margin-bottom: 4px;
        }
        .font-meta-vertical .font-name {
            font-size: 1.08em;
            font-weight: 600;
            color: #222;
        }
        .font-meta-vertical .font-format-size {
            font-size: 0.98em;
            color: #888;
        }
        .font-meta-vertical .font-original-name {
            font-size: 0.93em;
            color: #aaa;
            margin-top: 12px;
        }
        /* 颜色输入和色块一行 */
        .color-row {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            gap: 8px;
            width: 100%;
            min-width: 100%;
            max-width: 100%;
        }
    </style>
</head>
<body>
    <!-- 字体加载检测元素 -->
    <div class="font-loading-test" id="fontLoadingTest">测试字体加载</div>
    
    <div class="container">
        <div class="left-panel">
            <div class="upload-area" id="uploadArea">
                <div class="upload-line-top"></div>
                <div class="upload-content">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">拖拽字体文件到此处</div>
                    <div class="upload-text">或点击选择</div>
                    <div class="upload-subtext">（支持OTF，TTF）</div>
                </div>
                <div class="upload-line-bottom"></div>
                <input type="file" id="fileInput" multiple accept=".otf,.ttf">
            </div>
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">处理中...</div>
            </div>
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>

            <div class="current-fonts" id="currentFonts" style="margin-top:0;">
                <!-- 字体列表由JS动态填充 -->
            </div>
            <div class="input-group">
                <div style="position: relative;">
                    <input type="text" id="previewInput" class="preview-input" value="Love" maxlength="100" style="padding-left:22.5px;">
                    <div class="input-line" style="position:absolute;bottom:0;left:0;right:0;height:2px;background:#5888E7;"></div>
                </div>
                <div class="char-style-controls" id="charStyleControls">
                    <div class="input-group">
                        <div class="color-row">
                            <div class="color-input-container">
                                <div class="custom-color-picker" id="customColorPicker">
                                    <div class="color-display" id="colorDisplay"></div>
                                    <input type="color" id="charColorInput" class="char-color-input" value="#000000">
                                </div>
                                <div class="color-input-wrapper">
                                    <span class="color-prefix">#</span>
                                    <div style="position: relative; width: 100%;">
                                        <input type="text" id="charColorCode" class="char-color-code" placeholder="000000" value="000000">
                                        <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: #5888E7; z-index: 10;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="preset-colors">
                                <div class="preset-color" style="background: #189b66;" data-color="#189b66"></div>
                                <div class="preset-color" style="background: #b98672;" data-color="#b98672"></div>
                                <div class="preset-color" style="background: #f6e370;" data-color="#f6e370"></div>
                                <div class="preset-color" style="background: #6098ec;" data-color="#6098ec"></div>
                                <div class="preset-color" style="background: #ff004d;" data-color="#ff004d"></div>
                                <div class="preset-color" style="background: #b6b6b6;" data-color="#b6b6b6"></div>
                            </div>
                        </div>
                    </div>
                    <div class="input-group" style="display:none">
                        <label class="input-label">位置调整</label>
                        <div class="position-controls" style="width:100%;">
                            <span>X:</span>
                            <input type="range" id="charPosX" class="position-input long-slider" min="0" max="100" value="50">
                            <span id="charPosXVal">50%</span>
                        </div>
                        <div class="position-controls" style="width:100%;">
                            <span>Y:</span>
                            <input type="range" id="charPosY" class="position-input long-slider" min="0" max="100" value="50">
                            <span id="charPosYVal">50%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 隐藏的字符选择器功能组 - 未来可能需要 -->
            <div class="hidden-char-selector-group" id="hiddenCharSelectorGroup" style="display: none; position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(248, 248, 248, 1); border-top: 2px solid #5888E7; padding: 16px; box-sizing: border-box;">
                <div style="margin-bottom: 12px; font-size: 14px; color: #333; font-weight: 500;">字符选择器 (已隐藏)</div>
                <div id="charSelector" style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px;"></div>
                <div style="text-align: center;">
                    <button id="toggleCharSelector" style="background: #5888E7; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 12px;">显示字符选择器</button>
                </div>
            </div>
            
            <!-- 隐藏的字体选择器功能组 - 未来可能需要 -->
            <div class="hidden-font-selector-group" id="hiddenFontSelectorGroup" style="display: none; position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(248, 248, 248, 1); border-top: 2px solid #5888E7; padding: 16px; box-sizing: border-box;">
                <div style="margin-bottom: 12px; font-size: 14px; color: #333; font-weight: 500;">字体选择器 (已隐藏)</div>
                <div class="input-group">
                    <div style="position: relative;">
                        <select id="charFontSelect" class="font-select"></select>
                        <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 2px; background: #5888E7; z-index: 10;"></div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 12px;">
                    <button id="toggleFontSelector" style="background: #5888E7; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 12px;">显示字体选择器</button>
                </div>
            </div>
        </div>
        <div class="main-right-panel">
            <div class="right-panel-line-top"></div>
            <div class="preview-outer">
                <div class="preview-box" id="previewBox"></div>
            </div>
            <div class="right-panel-line-bottom"></div>
        </div>
    </div>
    <!-- 移除opentype.js，只使用CSS @font-face -->
    <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.5/+esm';

        const SUPABASE_URL = 'https://ujhfluevvppgkyuazqjn.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqaGZsdWV2dnBwZ2t5dWF6cWpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5NDM1NTcsImV4cCI6MjA2NzUxOTU1N30.WzoQGNtyv9frNgEx-S7yjV_5C66gWMFeWRH5GNbfLM4';

        // 创建全局Supabase客户端
        window.supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        console.log('Supabase客户端已初始化:', window.supabase);

        // 上传字体函数
        window.uploadFonts = async function (files) {
            const log = document.getElementById('log');
            if (log) log.innerHTML = '';

            for (const file of files) {
                // 生成日期时间戳：年份后两位+月日
                const now = new Date();
                const year = now.getFullYear().toString().slice(-2); // 年份后两位
                const month = String(now.getMonth() + 1).padStart(2, '0'); // 月份，补零
                const day = String(now.getDate()).padStart(2, '0'); // 日期，补零
                const datePrefix = `${year}${month}${day}`; // 如：250728
                
                const filename = `${datePrefix}_${file.name}`;
                if (log) log.innerHTML += `📤 上传中：${filename}...<br/>`;

                const { data, error } = await supabase.storage
                    .from('82fonts')
                    .upload(filename, file);

                if (error) {
                    if (log) log.innerHTML += `❌ 上传失败：${error.message}<br/><br/>`;
                    console.error('Upload failed:', error);
                } else {
                    const url = `${SUPABASE_URL}/storage/v1/object/public/82fonts/${filename}`;
                    if (log) log.innerHTML += `✅ 上传成功：<a href="${url}" target="_blank">${url}</a><br/><br/>`;
                    console.log('Upload succeeded:', url);
                }
            }
        };
        
        // 全局测试函数
        window.testSupabase = async function() {
            console.log('测试Supabase连接...');
            console.log('window.supabase:', window.supabase);
            if (window.supabase) {
                try {
                    const { data, error } = await window.supabase.storage.from('82fonts').list('');
                    console.log('Supabase存储桶内容:', { data, error });
                    return { data, error };
                } catch (e) {
                    console.error('测试失败:', e);
                    return { error: e };
                }
            } else {
                console.error('Supabase客户端未初始化');
                return { error: 'Supabase客户端未初始化' };
            }
        };
    </script>
    <script>
        // ==================== 工具函数 ====================
        // 深拷贝工具
        function deepCopy(obj) {
            return JSON.parse(JSON.stringify(obj));
        }
        class FontUploader {
            constructor() {
                this.uploadArea = document.getElementById('uploadArea');
                this.fileInput = document.getElementById('fileInput');
                this.progressContainer = document.getElementById('progressContainer');
                this.progressFill = document.getElementById('progressFill');
                this.progressText = document.getElementById('progressText');
                this.errorMessage = document.getElementById('errorMessage');
                this.successMessage = document.getElementById('successMessage');
                this.fontList = document.getElementById('fontList');
                this.previewInput = document.getElementById('previewInput');
                this.previewBox = document.getElementById('previewBox');
                this.charStyleControls = document.getElementById('charStyleControls');
                this.charFontSelect = document.getElementById('charFontSelect');
                this.charColorInput = document.getElementById('charColorInput');
                this.charColorCode = document.getElementById('charColorCode');
                this.charPosX = document.getElementById('charPosX');
                this.charPosY = document.getElementById('charPosY');
                this.charPosXVal = document.getElementById('charPosXVal');
                this.charPosYVal = document.getElementById('charPosYVal');
                this.charSelector = document.getElementById('charSelector');
                this.charSelectorGroup = document.getElementById('charSelectorGroup');
                this.uploadedFonts = [];
                this.currentFont = '';
                this.charStyles = [];
                this.selectedCharIndices = [];
                this.draggingCharIndex = null;
                this.dragOffset = { x: 0, y: 0 };
                this.dragStartCenters = null;
                this.dragStartMouse = null;
                this.undoStack = [];
                this.groupScale = 1;
                this.selectionRect = null;
                this.isBoxSelecting = false;
                this.boxSelectStart = null;
                this.boxSelectEnd = null;
                this.loadError = false; // 初始化加载错误标志
                this.isFirstPageLoad = true; // 标记是否是第一次进入页面
                this.initializeEventListeners();
                this.updatePreviewBox();
                this.updateCharFontSelect();
                // 缩放手柄拖动状态
                this._resizeTarget = null;
                this._resizeStart = null;
                // 方向键移动
                document.addEventListener('keydown', (e) => {
                    if (document.activeElement && (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA')) return;
                    if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) return;
                    let dx = 0, dy = 0;
                    if (e.key === 'ArrowLeft') dx = -1;
                    if (e.key === 'ArrowRight') dx = 1;
                    if (e.key === 'ArrowUp') dy = -1;
                    if (e.key === 'ArrowDown') dy = 1;
                    if (dx !== 0 || dy !== 0) {
                        e.preventDefault();
                        this.pushUndo();
                        // 计算单位px
                        const movePx = e.shiftKey ? 5 : 1;
                        const boxRect = this.previewBox.getBoundingClientRect();
                        for (const idx of this.selectedCharIndices) {
                            const style = this.charStyles[idx];
                            const fontSize = style.size || 135;
                            // 简化尺寸计算，不再使用opentype.js
                            let width = fontSize, height = fontSize;
                            const px2percentX = (1 / (boxRect.width - width)) * 100;
                            const px2percentY = (1 / (boxRect.height - height)) * 100;
                            style.x = Math.max(0, Math.min(100, (style.x || 0) + dx * px2percentX * movePx));
                            style.y = Math.max(0, Math.min(100, (style.y || 0) + dy * px2percentY * movePx));
                        }
                        this.updatePreviewBox();
                    }
                });
                this.currentFonts = document.getElementById('currentFonts');
                this.renderCurrentFonts();
                
                // 初始化隐藏的字符选择器
                this.initializeHiddenCharSelector();
                
                // 初始化隐藏的字体选择器
                this.initializeHiddenFontSelector();
                // 记录当前全局应用字体名
                this.globalFont = '82KVfont';
                // 初始化颜色显示
                this.updateColorDisplay();
                // 显式调用加载Supabase中已有的字体
                this.loadExistingFonts().then(() => {
                    // 字体加载完成后再预加载Serif.otf字体
                    this.preloadSerifFont().then(() => {
                        // 字体预加载完成后，强制刷新预览
                        console.log('所有字体加载完成，强制刷新预览');
                        console.log('字体加载完成');
                        this.updateCharFontSelect(); // 更新字体选择器
                        this.syncCharStylesWithText();
                        this.updatePreviewBox();
                        
                        // 页面加载完成后，自动聚焦到输入框并显示光标
                        setTimeout(() => {
                            this.previewInput.focus();
                            // 将光标位置设置到文本末尾（最右边的字母后面）
                            this.previewInput.setSelectionRange(this.previewInput.value.length, this.previewInput.value.length);
                            this.createCustomCursor();
                            // 标记第一次页面加载完成
                            this.isFirstPageLoad = true;
                        }, 100);
                    });
                });
            }
            initializeEventListeners() {
                this.uploadArea.addEventListener('click', () => {
                    this.fileInput.click();
                });
                this.fileInput.addEventListener('change', (e) => {
                    this.handleFiles(e.target.files);
                });
                this.uploadArea.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    this.uploadArea.classList.add('dragover');
                });
                this.uploadArea.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    this.uploadArea.classList.remove('dragover');
                });
                this.uploadArea.addEventListener('drop', (e) => {
                    e.preventDefault();
                    this.uploadArea.classList.remove('dragover');
                    this.handleFiles(e.dataTransfer.files);
                });
                this.previewInput.addEventListener('input', () => {
                    this.syncCharStylesWithText();
                    this.updatePreviewBox();
                    this.updateCustomCursor();
                });
                
                // 自定义光标管理
                this.previewInput.addEventListener('focus', () => {
                    this.createCustomCursor();
                });
                
                this.previewInput.addEventListener('blur', () => {
                    // 如果是第一次进入页面，则不移除光标
                    if (this.isFirstPageLoad) {
                        return;
                    }
                    // 否则正常移除光标
                    this.removeCustomCursor();
                });
                
                this.previewInput.addEventListener('click', () => {
                    this.updateCustomCursor();
                    // 标记已经点击过输入框，不再是第一次进入页面
                    if (this.isFirstPageLoad) {
                        this.isFirstPageLoad = false;
                    }
                });
                
                // 添加点击其他区域的事件监听器
                document.addEventListener('click', (e) => {
                    // 第一次进入页面时，点击其他地方不会让光标消失
                    // 只有在点击过输入框后，点击其他地方才会让光标消失
                    if (e.target !== this.previewInput && !this.isFirstPageLoad) {
                        this.removeCustomCursor();
                    }
                });
                
                this.previewInput.addEventListener('keydown', () => {
                    setTimeout(() => {
                        this.updateCustomCursor();
                    }, 0);
                });
                
                // 字符选择器显示/隐藏功能
                const toggleCharSelectorBtn = document.getElementById('toggleCharSelector');
                const hiddenCharSelectorGroup = document.getElementById('hiddenCharSelectorGroup');
                
                if (toggleCharSelectorBtn && hiddenCharSelectorGroup) {
                    toggleCharSelectorBtn.addEventListener('click', () => {
                        if (hiddenCharSelectorGroup.style.display === 'none') {
                            hiddenCharSelectorGroup.style.display = 'block';
                            toggleCharSelectorBtn.textContent = '隐藏字符选择器';
                            console.log('字符选择器已显示');
                        } else {
                            hiddenCharSelectorGroup.style.display = 'none';
                            toggleCharSelectorBtn.textContent = '显示字符选择器';
                            console.log('字符选择器已隐藏');
                        }
                    });
                }
                
                // 字体选择器显示/隐藏功能
                const toggleFontSelectorBtn = document.getElementById('toggleFontSelector');
                const hiddenFontSelectorGroup = document.getElementById('hiddenFontSelectorGroup');
                
                if (toggleFontSelectorBtn && hiddenFontSelectorGroup) {
                    toggleFontSelectorBtn.addEventListener('click', () => {
                        if (hiddenFontSelectorGroup.style.display === 'none') {
                            hiddenFontSelectorGroup.style.display = 'block';
                            toggleFontSelectorBtn.textContent = '隐藏字体选择器';
                            console.log('字体选择器已显示');
                        } else {
                            hiddenFontSelectorGroup.style.display = 'none';
                            toggleFontSelectorBtn.textContent = '显示字体选择器';
                            console.log('字体选择器已隐藏');
                        }
                    });
                }
                this.charFontSelect.addEventListener('change', () => {
                    this.applyFontOnly();
                });
                this.charColorInput.addEventListener('input', () => {
                    this.charColorCode.value = this.charColorInput.value.substring(1);
                    this.updateColorDisplay();
                    this.applyColorOnly();
                });
                this.charColorCode.addEventListener('input', () => {
                    this.charColorInput.value = '#' + this.charColorCode.value;
                    this.updateColorDisplay();
                    this.applyColorOnly();
                });
                this.charPosX.addEventListener('input', () => {
                    this.charPosXVal.textContent = Math.round(this.charPosX.value) + '%';
                    this.applyCharStyle();
                });
                this.charPosY.addEventListener('input', () => {
                    this.charPosYVal.textContent = Math.round(this.charPosY.value) + '%';
                    this.applyCharStyle();
                });
                // 预设颜色点击事件 - 使用事件委托
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('preset-color')) {
                        const color = e.target.getAttribute('data-color');
                        this.charColorInput.value = color;
                        this.charColorCode.value = color.substring(1);
                        this.updateColorDisplay();
                        this.applyColorOnly();
                        // 更新预设颜色选中状态
                        document.querySelectorAll('.preset-color').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                    }
                });
                // 拖动事件
                this.previewBox.addEventListener('mousedown', (e) => {
                    // 只允许char-inner触发选中/拖动，其他情况全部视为空白
                    if (e.target === this.previewBox || !e.target.classList.contains('char-inner')) {
                        // 点击空白处，取消所有选中
                        this.selectedCharIndices = [];
                        this.updateCharStyleControlsState();
                        this.updatePreviewBox();
                        this.showCharStyleControls();
                        return;
                    }
                    // 命中字体本身（char-inner）
                    const hitIndex = parseInt(e.target.getAttribute('data-index'));
                    // 记录拖动起点
                    this._dragCandidate = {
                        index: hitIndex,
                        startX: e.clientX,
                        startY: e.clientY,
                        mouseDown: true
                    };
                });
                document.addEventListener('mousemove', (e) => {
                    if (this._dragCandidate && this._dragCandidate.mouseDown) {
                        const dx = e.clientX - this._dragCandidate.startX;
                        const dy = e.clientY - this._dragCandidate.startY;
                        if (!this._dragCandidate.dragging && (Math.abs(dx) > 3 || Math.abs(dy) > 3)) {
                            // 开始拖动
                            this._dragCandidate.dragging = true;
                            this._startDragChars(this._dragCandidate.index, this._dragCandidate.startX, this._dragCandidate.startY);
                        }
                        if (this._dragCandidate.dragging) {
                            this._doDragChars(e.clientX, e.clientY);
                        }
                    }
                });
                document.addEventListener('mouseup', (e) => {
                    if (this._dragCandidate) {
                        if (this._dragCandidate.dragging) {
                            // 拖动结束
                            this._endDragChars();
                        } else {
                            // 只是点击，检查SHIFT键进行多选
                            if (e.shiftKey) {
                                this._multiSelectChar(this._dragCandidate.index);
                            } else {
                                this._toggleCharSelect(this._dragCandidate.index);
                            }
                        }
                        this._dragCandidate = null;
                    }
                });
                // 左侧字符选择器事件
                this.charSelector.addEventListener('click', (e) => {
                    if (e.target.classList.contains('char-btn')) {
                        const idx = parseInt(e.target.getAttribute('data-index'));
                        if (e.shiftKey) {
                            this._multiSelectChar(idx);
                        } else {
                            this._toggleCharSelect(idx);
                        }
                    }
                });
                // 撤销快捷键
                document.addEventListener('keydown', (e) => {
                    if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'z') {
                        e.preventDefault();
                        this.undo();
                    }
                });
                // 预览区框选
                this.previewBox.addEventListener('mousedown', (e) => {
                    if (e.button !== 0) return;
                    if (e.target === this.previewBox) {
                        this.isBoxSelecting = true;
                        const rect = this.previewBox.getBoundingClientRect();
                        this.boxSelectStart = { x: e.clientX - rect.left, y: e.clientY - rect.top };
                        this.boxSelectEnd = { ...this.boxSelectStart };
                        this.showSelectionRect();
                    }
                });
                document.addEventListener('mousemove', (e) => {
                    if (this.isBoxSelecting) {
                        const rect = this.previewBox.getBoundingClientRect();
                        this.boxSelectEnd = { x: e.clientX - rect.left, y: e.clientY - rect.top };
                        this.showSelectionRect();
                    }
                });
                document.addEventListener('mouseup', (e) => {
                    if (this.isBoxSelecting) {
                        this.isBoxSelecting = false;
                        this.hideSelectionRect();
                        this.handleBoxSelect();
                    }
                });
            }
            handleFiles(files) {
                if (files.length === 0) return;
                this.hideMessages();
                const validFiles = Array.from(files).filter(file => {
                    const isValid = file.type === 'font/otf' || file.type === 'font/ttf' || file.name.toLowerCase().endsWith('.otf') || file.name.toLowerCase().endsWith('.ttf');
                    if (!isValid) {
                        this.showError(`不支持的格式: ${file.name}，仅支持 OTF 和 TTF`);
                    }
                    return isValid;
                });
                if (validFiles.length === 0) {
                    return;
                }
                this.processFonts(validFiles);
                this.renderCurrentFonts();
            }
            async processFonts(files) {
                const totalFiles = files.length;
                let processedFiles = 0;
                for (const file of files) {
                    try {
                        await this.processFont(file);
                        processedFiles++;
                    } catch (error) {
                        this.showError(`处理失败 ${file.name}: ${error.message}`);
                    }
                }
                // 只有在真正有文件成功上传时才显示成功提示框
                if (processedFiles > 0) {
                    this.showSuccess(`${processedFiles} 个字体上传成功!`);
                }
                this.updateCharFontSelect();
                this.updatePreviewBox();
                this.renderCurrentFonts();
            }
            async processFont(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        try {
                            const fontName = this.extractFontName(file.name);
                            const fontUrl = e.target.result;
                            this.registerFont(fontName, fontUrl, file.type);
                            this.uploadedFonts.push({
                                name: fontName,
                                url: fontUrl,
                                format: this.getFontFormat(file),
                                originalName: file.name,
                                size: this.formatFileSize(file.size)
                            });
                            // 不再使用opentype.js解析字体，只通过CSS应用
                            resolve();
                            this.renderCurrentFonts();
                        } catch (error) {
                            reject(error);
                        }
                    };
                    reader.onerror = () => reject(new Error('读取文件失败'));
                    reader.readAsDataURL(file);
                });
            }
            extractFontName(filename) {
                const name = filename.replace(/\.(otf|ttf)$/i, '');
                return name.replace(/[-_]/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
            }
            getFontFormat(file) {
                if (file.name.toLowerCase().endsWith('.otf')) return 'OTF';
                if (file.name.toLowerCase().endsWith('.ttf')) return 'TTF';
                return '未知';
            }
            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            registerFont(fontName, fontUrl, format) {
                console.log(`注册字体到CSS: ${fontName}, URL: ${fontUrl}, 格式: ${format}`);
                
                // 创建@font-face规则
                const fontFace = document.createElement('style');
                const formatType = format === 'font/otf' ? 'opentype' : 'truetype';
                fontFace.textContent = `
                    @font-face {
                        font-family: '${fontName}';
                        src: url('${fontUrl}') format('${formatType}');
                        font-display: swap;
                    }
                `;
                document.head.appendChild(fontFace);
                console.log(`已添加@font-face规则: ${fontName}`);
            }
            updateCharFontSelect() {
                // 显示内置字体和从Supabase上传的字体
                const builtInFonts = [
                    { name: '82KVfont', displayName: '82KVfont' }
                ];
                const uploadedFonts = this.uploadedFonts.map(f => ({ name: f.name, displayName: f.name }));
                
                const allFonts = [...builtInFonts, ...uploadedFonts];
                
                if (allFonts.length === 0) {
                    this.charFontSelect.innerHTML = '<option value="">请先上传字体到Supabase</option>';
                    this.charFontSelect.disabled = true;
                } else {
                    // 获取当前选中的字体值
                    const currentValue = this.charFontSelect.value;
                    
                    this.charFontSelect.innerHTML = allFonts.map((font, idx) =>
                        `<option value="${font.name}">${font.displayName}</option>`
                    ).join('');
                    
                    // 如果有之前选中的字体，保持选中状态
                    if (currentValue && allFonts.some(font => font.name === currentValue)) {
                        this.charFontSelect.value = currentValue;
                    } else if (allFonts.length > 0) {
                        // 如果没有选中任何字体，默认选中第一个字体
                        this.charFontSelect.value = allFonts[0].name;
                    }
                    
                    this.charFontSelect.disabled = false;
                }
            }
            syncCharStylesWithText() {
                // 保证charStyles数组长度与文本一致
                const text = this.previewInput.value || '';
                if (this.charStyles.length > text.length) {
                    this.charStyles = this.charStyles.slice(0, text.length);
                } else {
                    // 获取预览区宽高
                    const boxRect = this.previewBox ? this.previewBox.getBoundingClientRect() : {width: 1, height: 1};
                    const n = text.length;
                    // 简化宽度计算，不再使用opentype.js
                    let widths = [];
                    for (let i = 0; i < n; i++) {
                        const style = this.charStyles[i] || { size: 135 };
                        const fontSize = style.size || 135;
                        widths.push(fontSize);
                    }
                    
                    // 计算总宽度
                    const totalWidth = widths.reduce((a, b) => a + b, 0);
                    
                    // 判断是否是初始加载（所有字符都没有样式）
                    const isInitialLoad = this.charStyles.length === 0;
                    
                    for (let i = this.charStyles.length; i < n; i++) {
                        let xPx, percentX;
                        
                        if (isInitialLoad) {
                            // 初始加载时，所有文字居中显示
                            let startX = (boxRect.width - totalWidth) / 2;
                            let accWidth = 0;
                            for (let j = 0; j < i; j++) {
                                accWidth += widths[j];
                            }
                            xPx = startX + accWidth;
                            percentX = (xPx / (boxRect.width - widths[i])) * 100;
                        } else {
                            // 用户输入新文字时，从左上角开始，依次往右排列
                            // 检查这是否是新输入的文字
                            if (i >= this.charStyles.length) {
                                // 这是新输入的文字，从左上角开始，依次往右排列
                                let accWidth = 0;
                                // 累加所有前面字符的宽度（包括现有文字和新输入文字）
                                for (let j = 0; j < i; j++) {
                                    accWidth += widths[j];
                                }
                                xPx = accWidth;
                                percentX = (xPx / (boxRect.width - widths[i])) * 100;
                            } else {
                                // 这是现有文字，保持原有位置，不重新计算
                                continue;
                            }
                        }
                        
                        // 初始文字使用82KVfont，新输入的文字使用当前选择的字体
                        let fontToUse;
                        if (isInitialLoad) {
                            // 初始加载时使用82KVfont
                            fontToUse = '82KVfont';
                        } else {
                            // 新输入的文字使用当前选择的字体
                            fontToUse = this.charFontSelect.value || 'Inter, sans-serif';
                        }
                        
                        // 设置初始颜色：L(浅黄), o(浅灰), v(红色), e(浅黄)，新输入的文字使用当前选择的颜色
                        let initialColor = '#000000';
                        if (isInitialLoad && text === 'Love') {
                            if (i === 0) initialColor = '#f6e370'; // L - 浅黄色
                            else if (i === 1) initialColor = '#b6b6b6'; // o - 浅灰色
                            else if (i === 2) initialColor = '#ff004d'; // v - 红色
                            else if (i === 3) initialColor = '#f6e370'; // e - 浅黄色
                        } else if (!isInitialLoad) {
                            // 新输入的文字使用当前选择的颜色
                            initialColor = this.charColorInput.value || '#000000';
                        }
                        
                        // 为字母"o"（索引1）设置特殊位置
                        let finalX = percentX;
                        let finalY = isInitialLoad ? 42 : 0;
                        
                        // 整体向右移动120px的偏移量
                        const globalOffsetX = 120;
                        
                        if (isInitialLoad && text === 'Love' && i === 1) {
                            // 字母"o"向左移动95px，向下移动3px，再加上整体向右偏移
                            // 需要将像素转换为百分比
                            const boxRect = this.previewBox ? this.previewBox.getBoundingClientRect() : {width: 800, height: 900};
                            const fontSize = 135;
                            const width = fontSize, height = fontSize;
                            
                            // 计算像素移动对应的百分比
                            const px2percentX = (1 / (boxRect.width - width)) * 100;
                            const px2percentY = (1 / (boxRect.height - height)) * 100;
                            
                            // 向左移动95px，向下移动3px，再加上整体向右偏移70px
                            finalX = percentX - (95 * px2percentX) + (globalOffsetX * px2percentX);
                            finalY = 42 + (3 * px2percentY);
                        } else if (isInitialLoad && text === 'Love' && i === 2) {
                            // 字母"v"向左移动170px，向下移动8px，再加上整体向右偏移
                            // 需要将像素转换为百分比
                            const boxRect = this.previewBox ? this.previewBox.getBoundingClientRect() : {width: 800, height: 900};
                            const fontSize = 135;
                            const width = fontSize, height = fontSize;
                            
                            // 计算像素移动对应的百分比
                            const px2percentX = (1 / (boxRect.width - width)) * 100;
                            const px2percentY = (1 / (boxRect.height - height)) * 100;
                            
                            // 向左移动170px，向下移动8px，再加上整体向右偏移70px
                            finalX = percentX - (170 * px2percentX) + (globalOffsetX * px2percentX);
                            finalY = 42 + (8 * px2percentY);
                        } else if (isInitialLoad && text === 'Love' && i === 3) {
                            // 字母"e"向左移动212px，向下移动5px，再加上整体向右偏移
                            // 需要将像素转换为百分比
                            const boxRect = this.previewBox ? this.previewBox.getBoundingClientRect() : {width: 800, height: 900};
                            const fontSize = 135;
                            const width = fontSize, height = fontSize;
                            
                            // 计算像素移动对应的百分比
                            const px2percentX = (1 / (boxRect.width - width)) * 100;
                            const px2percentY = (1 / (boxRect.height - height)) * 100;
                            
                            // 向左移动212px，向下移动5px，再加上整体向右偏移70px
                            finalX = percentX - (212 * px2percentX) + (globalOffsetX * px2percentX);
                            finalY = 42 + (5 * px2percentY);
                        } else if (isInitialLoad && text === 'Love') {
                            // 其他字符（如L）也需要整体向右偏移70px
                            const boxRect = this.previewBox ? this.previewBox.getBoundingClientRect() : {width: 800, height: 900};
                            const fontSize = 135;
                            const width = fontSize, height = fontSize;
                            const px2percentX = (1 / (boxRect.width - width)) * 100;
                            finalX = percentX + (globalOffsetX * px2percentX);
                        }
                        
                        this.charStyles.push({ 
                            font: fontToUse, 
                            color: initialColor,
                            x: finalX,
                            y: finalY,
                            size: 135
                        });
                    }
                }
                if (this.selectedCharIndices && this.selectedCharIndices.length > text.length) {
                    this.selectedCharIndices = this.selectedCharIndices.slice(0, text.length);
                }
                // 同步左侧字符选择器
                this.updateCharSelector();
            }
            updatePreviewBox() {
                let text = this.previewInput.value;
                if (typeof text !== 'string' || text.length === 0) text = ' ';
                this.syncCharStylesWithText();
                this.previewBox.innerHTML = '';
                // 动态获取预览区尺寸
                const boxRect = this.previewBox.getBoundingClientRect();
                const boxW = boxRect.width;
                const boxH = boxRect.height;
                // 滑块范围固定为0~100
                if (this.selectedCharIndices && this.selectedCharIndices.length === 1) {
                    this.charPosX.min = 0;
                    this.charPosX.max = 100;
                    this.charPosY.min = 0;
                    this.charPosY.max = 100;
                    const idx = this.selectedCharIndices[0];
                    const style = this.charStyles[idx] || { size: 135 };
                    // 只在显示时限制范围，不修改原始数据
                    const displayX = Math.max(0, Math.min(100, style.x || 0));
                    const displayY = Math.max(0, Math.min(100, style.y || 0));
                    this.charPosX.value = Math.round(displayX);
                    this.charPosY.value = Math.round(displayY);
                    this.charPosXVal.textContent = Math.round(displayX) + '%';
                    this.charPosYVal.textContent = Math.round(displayY) + '%';
                }
                for (let i = 0; i < text.length; i++) {
                    const char = text[i] === ' ' ? '\u00A0' : text[i];
                    const style = this.charStyles[i] || { font: '82KVfont', color: '#000000', x: 50, y: 50, size: 135 };
                    const fontSize = style.size || 135;
                    // 简化字体尺寸计算，不再使用opentype.js
                    let width = fontSize, height = fontSize;
                    // 滑块0~100严格对应left=0~boxW-width
                    let percentX = style.x !== undefined ? style.x : 50;
                    let percentY = style.y !== undefined ? style.y : 50;
                    if (percentX < 0) percentX = 0;
                    if (percentX > 100) percentX = 100;
                    if (percentY < 0) percentY = 0;
                    if (percentY > 100) percentY = 100;
                    const left = percentX / 100 * (boxW - width);
                    const top = percentY / 100 * (boxH - height);
                    const span = document.createElement('span');
                    // 多选时不显示单字选中方框，单选时才显示
                    span.className = 'preview-char' + (this.selectedCharIndices && this.selectedCharIndices.length === 1 && this.selectedCharIndices.includes(i) ? ' selected' : '');
                    span.style.left = left + 'px';
                    span.style.top = top + 'px';
                    span.style.width = width + 'px';
                    span.style.height = height + 'px';
                    span.style.fontSize = fontSize + 'px';
                    span.setAttribute('data-index', i);
                    // 确保字体名称正确
                    let fontFamily = 'sans-serif';
                    if (style.font === '82KVfont') {
                        fontFamily = `'82KVfont', sans-serif`;
                    } else if (style.font === 'Inter, sans-serif') {
                        fontFamily = 'Inter, sans-serif';
                    } else if (style.font) {
                        fontFamily = `'${style.font}', sans-serif`;
                    }
                    span.style.fontFamily = fontFamily;
                    console.log(`应用字体到字符 ${i}: ${style.font}, fontFamily: ${span.style.fontFamily}`);
                    
                    // 内部包裹实际文字，只有文字可点
                    const inner = document.createElement('span');
                    inner.className = 'char-inner';
                    inner.textContent = text[i];
                    inner.style.color = style.color || '#000000';
                    inner.style.fontFamily = fontFamily; // 强制应用字体到内部元素
                    inner.setAttribute('data-index', i);
                    inner.style.position = 'absolute';
                    inner.style.left = '0px';
                    inner.style.top = '0px';
                    inner.style.width = width + 'px';
                    inner.style.height = height + 'px';
                    span.appendChild(inner);
                    // 选中时显示四角缩放手柄
                    if (this.selectedCharIndices && this.selectedCharIndices.length === 1 && this.selectedCharIndices[0] === i) {
                        const corners = [
                            { cls: 'nw', x: 0, y: 0 },
                            { cls: 'ne', x: width, y: 0 },
                            { cls: 'sw', x: 0, y: height },
                            { cls: 'se', x: width, y: height }
                        ];
                        for (const corner of corners) {
                            const handle = document.createElement('div');
                            handle.className = 'resize-handle ' + corner.cls;
                            handle.setAttribute('data-index', i);
                            handle.addEventListener('mousedown', (e) => {
                                e.stopPropagation();
                                // 记录初始对角线长度和fontSize
                                const rect = span.getBoundingClientRect();
                                let startX = 0, startY = 0;
                                if (corner.cls === 'nw') { startX = rect.right; startY = rect.bottom; }
                                if (corner.cls === 'ne') { startX = rect.left; startY = rect.bottom; }
                                if (corner.cls === 'sw') { startX = rect.right; startY = rect.top; }
                                if (corner.cls === 'se') { startX = rect.left; startY = rect.top; }
                                this._resizeTarget = i;
                                this._resizeStart = {
                                    mouseX: e.clientX,
                                    mouseY: e.clientY,
                                    fontSize: style.size || 135,
                                    startX,
                                    startY,
                                    corner: corner.cls
                                };
                                document.body.style.cursor = getResizeCursor(corner.cls);
                            });
                            span.appendChild(handle);
                        }
                    }
                    this.previewBox.appendChild(span);
                    // 选中时置于顶层
                    span.style.zIndex = (this.selectedCharIndices && this.selectedCharIndices.includes(i)) ? 100 : 1;
                }
                // 同步左侧字符选择器高亮
                this.updateCharSelector();
                // 监听缩放手柄拖动
                if (!this._resizeMouseMoveHandler) {
                    this._resizeMouseMoveHandler = (e) => {
                        if (this._resizeTarget !== null && this._resizeStart) {
                            const idx = this._resizeTarget;
                            const style = this.charStyles[idx];
                            const span = this.previewBox.querySelector(`.preview-char[data-index='${idx}']`);
                            if (!span) return;
                            const rect = span.getBoundingClientRect();
                            let refX = 0, refY = 0;
                            if (this._resizeStart.corner === 'nw') { refX = rect.right; refY = rect.bottom; }
                            if (this._resizeStart.corner === 'ne') { refX = rect.left; refY = rect.bottom; }
                            if (this._resizeStart.corner === 'sw') { refX = rect.right; refY = rect.top; }
                            if (this._resizeStart.corner === 'se') { refX = rect.left; refY = rect.top; }
                            const startDist = Math.hypot(this._resizeStart.mouseX - this._resizeStart.startX, this._resizeStart.mouseY - this._resizeStart.startY);
                            const nowDist = Math.hypot(e.clientX - refX, e.clientY - refY);
                            let scale = nowDist / (startDist || 1);
                            let newSize = Math.max(8, this._resizeStart.fontSize * scale);
                            style.size = newSize;
                            this.updatePreviewBox();
                        }
                    };
                    this._resizeMouseUpHandler = (e) => {
                        if (this._resizeTarget !== null) {
                            this.pushUndo();
                            this._resizeTarget = null;
                            this._resizeStart = null;
                            document.body.style.cursor = '';
                        }
                    };
                    document.addEventListener('mousemove', this._resizeMouseMoveHandler);
                    document.addEventListener('mouseup', this._resizeMouseUpHandler);
                }
                // 多选时渲染群组大方框和手柄
                if (this.selectedCharIndices && this.selectedCharIndices.length > 1) {
                    // 计算所有选中字的最小包围盒
                    let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;
                    for (const idx of this.selectedCharIndices) {
                        const span = this.previewBox.querySelector(`.preview-char[data-index='${idx}']`);
                        if (!span) continue;
                        const rect = span.getBoundingClientRect();
                        const boxRect = this.previewBox.getBoundingClientRect();
                        const x1 = rect.left - boxRect.left;
                        const y1 = rect.top - boxRect.top;
                        const x2 = x1 + rect.width;
                        const y2 = y1 + rect.height;
                        minX = Math.min(minX, x1);
                        minY = Math.min(minY, y1);
                        maxX = Math.max(maxX, x2);
                        maxY = Math.max(maxY, y2);
                    }
                    if (minX < maxX && minY < maxY) {
                        const groupBox = document.createElement('div');
                        groupBox.className = 'group-bbox';
                        groupBox.style.left = minX + 'px';
                        groupBox.style.top = minY + 'px';
                        groupBox.style.width = (maxX - minX) + 'px';
                        groupBox.style.height = (maxY - minY) + 'px';
                        // 四角手柄
                        const corners = [
                            { cls: 'nw', x: 0, y: 0 },
                            { cls: 'ne', x: maxX - minX, y: 0 },
                            { cls: 'sw', x: 0, y: maxY - minY },
                            { cls: 'se', x: maxX - minX, y: maxY - minY }
                        ];
                        for (const corner of corners) {
                            const handle = document.createElement('div');
                            handle.className = 'resize-handle ' + corner.cls;
                            handle.style.position = 'absolute';
                            handle.style.left = (corner.x - 8) + 'px';
                            handle.style.top = (corner.y - 8) + 'px';
                            handle.addEventListener('mousedown', (e) => {
                                e.stopPropagation();
                                this._groupResize = {
                                    startX: e.clientX,
                                    startY: e.clientY,
                                    minX, minY, maxX, maxY,
                                    width: maxX - minX,
                                    height: maxY - minY,
                                    centerX: (minX + maxX) / 2,
                                    centerY: (minY + maxY) / 2,
                                    fontSizes: this.selectedCharIndices.map(idx => this.charStyles[idx].size || 135),
                                    positions: this.selectedCharIndices.map(idx => {
                                        // 记录每个字中心点相对group中心的偏移
                                        const span = this.previewBox.querySelector(`.preview-char[data-index='${idx}']`);
                                        const rect = span.getBoundingClientRect();
                                        const boxRect = this.previewBox.getBoundingClientRect();
                                        const cx = rect.left - boxRect.left + rect.width/2;
                                        const cy = rect.top - boxRect.top + rect.height/2;
                                        return { cx, cy };
                                    }),
                                    corner: corner.cls
                                };
                                document.body.style.cursor = getResizeCursor(corner.cls);
                            });
                            groupBox.appendChild(handle);
                        }
                        this.previewBox.appendChild(groupBox);
                    }
                }
                // 监听群组缩放手柄拖动
                if (!this._groupResizeMouseMoveHandler) {
                    this._groupResizeMouseMoveHandler = (e) => {
                        if (this._groupResize) {
                            const start = this._groupResize;
                            // 以对角线距离变化为缩放因子
                            let refX = 0, refY = 0;
                            if (start.corner === 'nw') { refX = start.maxX; refY = start.maxY; }
                            if (start.corner === 'ne') { refX = start.minX; refY = start.maxY; }
                            if (start.corner === 'sw') { refX = start.maxX; refY = start.minY; }
                            if (start.corner === 'se') { refX = start.minX; refY = start.minY; }
                            const startDist = Math.hypot(start.startX - refX, start.startY - refY);
                            const nowDist = Math.hypot(e.clientX - refX, e.clientY - refY);
                            let scale = nowDist / (startDist || 1);
                            // 限制缩放比例
                            scale = Math.max(0.2, Math.min(5, scale));
                            // 缩放时群组中心保持不变
                            const boxRect = this.previewBox.getBoundingClientRect();
                            for (let i = 0; i < this.selectedCharIndices.length; i++) {
                                const idx = this.selectedCharIndices[i];
                                const style = this.charStyles[idx];
                                // 缩放字体大小
                                style.size = (this._groupResize.fontSizes[i] || 135) * scale;
                            }
                            // 重新计算所有字的包围盒，获得缩放后宽高
                            let newCenters = [];
                            for (let i = 0; i < this.selectedCharIndices.length; i++) {
                                const idx = this.selectedCharIndices[i];
                                const style = this.charStyles[idx];
                                const fontSize = style.size;
                                // 简化尺寸计算，不再使用opentype.js
                                let width = fontSize, height = fontSize;
                                // 计算缩放后中心点相对group中心的向量
                                const relX = this._groupResize.positions[i].cx - this._groupResize.centerX;
                                const relY = this._groupResize.positions[i].cy - this._groupResize.centerY;
                                const newCx = this._groupResize.centerX + relX * scale;
                                const newCy = this._groupResize.centerY + relY * scale;
                                newCenters.push({ newCx, newCy, width, height });
                            }
                            // 反算百分比，保证缩放后群组中心不动
                            for (let i = 0; i < this.selectedCharIndices.length; i++) {
                                const idx = this.selectedCharIndices[i];
                                const style = this.charStyles[idx];
                                const { newCx, newCy, width, height } = newCenters[i];
                                // 用左上角坐标算百分比，保证缩放后群组中心不动
                                const left = newCx - width / 2;
                                const top = newCy - height / 2;
                                style.x = (left / (boxRect.width - width)) * 100;
                                style.y = (top / (boxRect.height - height)) * 100;
                            }
                            this.updatePreviewBox();
                        }
                    };
                    this._groupResizeMouseUpHandler = (e) => {
                        if (this._groupResize) {
                            this.pushUndo();
                            this._groupResize = null;
                            document.body.style.cursor = '';
                        }
                    };
                    document.addEventListener('mousemove', this._groupResizeMouseMoveHandler);
                    document.addEventListener('mouseup', this._groupResizeMouseUpHandler);
                }
            }
            selectChar(index, toggle = false) {
                // toggle: true 表示允许取消选中
                if (toggle) {
                    if (this.selectedCharIndices.includes(index)) {
                        // 取消选中
                        this.selectedCharIndices = this.selectedCharIndices.filter(i => i !== index);
                    } else {
                        this.selectedCharIndices = [index];
                    }
                } else {
                    this.selectedCharIndices = [index];
                }
                this.updateCharStyleControlsState();
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            updateCharStyleControlsState() {
                // 控件始终可用，不再根据选中状态添加/移除inactive类
                // if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                //     this.charStyleControls.classList.add('inactive');
                // } else {
                //     this.charStyleControls.classList.remove('inactive');
                // }
            }
            showCharStyleControls() {
                // 多选时，若属性一致则显示，否则为空
                if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                    // 当没有选中字符时，保持字体选择器和颜色选择器的当前值，不清空
                    // this.charFontSelect.value = ''; // 注释掉这行，保持当前选中的字体
                    // this.charColorInput.value = '#000000'; // 注释掉这行，保持当前选中的颜色
                    // this.charColorCode.value = '000000'; // 注释掉这行，保持当前选中的颜色
                    // this.updateColorDisplay(); // 注释掉这行，保持当前选中的颜色
                    this.charPosX.value = 0;
                    this.charPosY.value = 0;
                    this.charPosXVal.textContent = 0;
                    this.charPosYVal.textContent = 0;
                    document.querySelectorAll('.preset-color').forEach(btn => btn.classList.remove('active'));
                    return;
                }
                const first = this.charStyles[this.selectedCharIndices[0]] || { font: '', color: '#000000', x: 0, y: 0, size: 135 };
                let allSame = (key) => this.selectedCharIndices.every(i => (this.charStyles[i]||{})[key] === first[key]);
                // 设置字体选择器的值，支持内置字体
                const selectedFont = allSame('font') ? (first.font || '') : '';
                this.charFontSelect.value = selectedFont;
                this.charColorInput.value = allSame('color') ? (first.color || '#000000') : '#000000';
                this.charColorCode.value = allSame('color') ? (first.color || '#000000').substring(1) : '000000';
                this.updateColorDisplay();
                // 滑块显示整数
                this.charPosX.value = allSame('x') ? (first.x || 0) : 0;
                this.charPosY.value = allSame('y') ? (first.y || 0) : 0;
                this.charPosXVal.textContent = (allSame('x') ? Math.round(first.x || 0) : 0) + '%';
                this.charPosYVal.textContent = (allSame('y') ? Math.round(first.y || 0) : 0) + '%';
                // 允许滑块无级移动
                this.charPosX.step = 'any';
                this.charPosY.step = 'any';
                document.querySelectorAll('.preset-color').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('data-color') === first.color && allSame('color')) {
                        btn.classList.add('active');
                    }
                });
            }
            applyColorOnly() {
                this.pushUndo();
                const color = this.charColorInput.value;
                
                if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                    // 如果没有选中字符，将颜色应用到所有现有字符
                    const text = this.previewInput.value || '';
                    for (let i = 0; i < text.length; i++) {
                        const prev = this.charStyles[i] || {};
                        this.charStyles[i] = {
                            ...prev,
                            color: color || prev.color
                        };
                    }
                } else {
                    // 应用到选中的字符
                    for (const idx of this.selectedCharIndices) {
                        const prev = this.charStyles[idx] || {};
                        this.charStyles[idx] = {
                            ...prev,
                            color: color || prev.color
                        };
                    }
                }
                this.updatePreviewBox();
            }
            applyFontOnly() {
                this.pushUndo();
                const font = this.charFontSelect.value;
                
                if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                    // 如果没有选中字符，将字体应用到所有现有字符
                    const text = this.previewInput.value || '';
                    for (let i = 0; i < text.length; i++) {
                        const prev = this.charStyles[i] || {};
                        this.charStyles[i] = {
                            ...prev,
                            font: font || prev.font
                        };
                    }
                } else {
                    // 应用到选中的字符
                    for (const idx of this.selectedCharIndices) {
                        const prev = this.charStyles[idx] || {};
                        this.charStyles[idx] = {
                            ...prev,
                            font: font || prev.font
                        };
                    }
                }
                this.updatePreviewBox();
            }
            applyCharStyle() {
                this.pushUndo();
                const font = this.charFontSelect.value;
                const color = this.charColorInput.value;
                // 百分比
                const x = this.charPosX.value === '' ? undefined : Math.max(0, Math.min(100, parseFloat(this.charPosX.value)));
                const y = this.charPosY.value === '' ? undefined : Math.max(0, Math.min(100, parseFloat(this.charPosY.value)));
                
                if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                    // 如果没有选中字符，将样式应用到所有现有字符
                    const text = this.previewInput.value || '';
                    for (let i = 0; i < text.length; i++) {
                        const prev = this.charStyles[i] || {};
                        this.charStyles[i] = {
                            font: font || prev.font,
                            color: color || prev.color,
                            x: x !== undefined ? x : (prev.x !== undefined ? prev.x : 50),
                            y: y !== undefined ? y : (prev.y !== undefined ? prev.y : 50),
                            size: prev.size || 135
                        };
                    }
                } else {
                    // 应用到选中的字符
                    for (const idx of this.selectedCharIndices) {
                        const prev = this.charStyles[idx] || {};
                        this.charStyles[idx] = {
                            font: font || prev.font,
                            color: color || prev.color,
                            x: x !== undefined ? x : (prev.x !== undefined ? prev.x : 50),
                            y: y !== undefined ? y : (prev.y !== undefined ? prev.y : 50),
                            size: prev.size || 135
                        };
                    }
                }
                this.updatePreviewBox();
            }
            _toggleCharSelect(index) {
                this.pushUndo();
                if (this.selectedCharIndices.includes(index)) {
                    this.selectedCharIndices = [];
                } else {
                    this.selectedCharIndices = [index];
                }
                this.updateCharStyleControlsState();
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            _multiSelectChar(index) {
                this.pushUndo();
                if (this.selectedCharIndices.length === 0) {
                    // 如果没有选中的字符，直接选中当前字符
                    this.selectedCharIndices = [index];
                } else {
                    // 如果已有选中的字符，添加到选择中
                    if (!this.selectedCharIndices.includes(index)) {
                        this.selectedCharIndices.push(index);
                    }
                }
                this.updateCharStyleControlsState();
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            _startDragChars(index, startX, startY) {
                this.pushUndo();
                // 拖动时不改变选中状态，若未选中则只拖动该字
                if (!this.selectedCharIndices.includes(index)) {
                    this.selectedCharIndices = [index];
                    this.updateCharStyleControlsState();
                    this.updatePreviewBox();
                    this.showCharStyleControls();
                }
                // 记录所有被选中字符的原始中心点
                const boxRect = this.previewBox.getBoundingClientRect();
                this._dragStartCenters = this.selectedCharIndices.map(idx => {
                    const style = this.charStyles[idx];
                    return {
                        idx,
                        x: style.x,
                        y: style.y,
                        size: style.size || 135
                    };
                });
                this._dragStartMouse = { x: startX, y: startY };
                this._dragBoxRect = boxRect;
            }
            _doDragChars(clientX, clientY) {
                const boxW = this._dragBoxRect.width;
                const boxH = this._dragBoxRect.height;
                const dx = clientX - this._dragStartMouse.x;
                const dy = clientY - this._dragStartMouse.y;
                for (let i = 0; i < this._dragStartCenters.length; i++) {
                    const { idx, x: startX, y: startY, size } = this._dragStartCenters[i];
                    // 简化宽度计算，不再使用opentype.js
                    let width = size;
                    // 拖动时严格线性映射
                    const left0 = startX / 100 * (boxW - width);
                    const top0 = startY / 100 * (boxH - size);
                    let left = left0 + dx;
                    let top = top0 + dy;
                    // 反推percentX/percentY
                    let percentX = (left / (boxW - width)) * 100;
                    let percentY = (top / (boxH - size)) * 100;
                    percentX = Math.max(0, Math.min(100, percentX));
                    percentY = Math.max(0, Math.min(100, percentY));
                    this.charStyles[idx].x = percentX;
                    this.charStyles[idx].y = percentY;
                }
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            _endDragChars() {
                this.pushUndo();
                this._dragStartCenters = null;
                this._dragStartMouse = null;
                this._dragBoxRect = null;
            }
            showProgress() {
                this.progressContainer.style.display = 'block';
                this.updateProgress(0);
            }
            hideProgress() {
                this.progressContainer.style.display = 'none';
            }
            updateProgress(percentage) {
                this.progressFill.style.width = `${percentage}%`;
                this.progressText.textContent = `处理中... ${Math.round(percentage)}%`;
            }
            showError(message) {
                this.errorMessage.textContent = message;
                this.errorMessage.style.display = 'block';
                setTimeout(() => {
                    this.errorMessage.style.display = 'none';
                }, 5000);
            }
            showSuccess(message) {
                this.successMessage.textContent = message;
                this.successMessage.style.display = 'block';
                setTimeout(() => {
                    this.successMessage.style.display = 'none';
                }, 3000);
            }
            hideMessages() {
                this.errorMessage.style.display = 'none';
                this.successMessage.style.display = 'none';
            }
            updateSyncStatus(status, color) {
                const syncStatusElement = document.getElementById('syncStatus');
                if (syncStatusElement) {
                    syncStatusElement.textContent = `(${status})`;
                    syncStatusElement.style.color = color;
                }
            }
            updateColorDisplay() {
                const colorDisplay = document.getElementById('colorDisplay');
                if (colorDisplay) {
                    colorDisplay.style.backgroundColor = this.charColorInput.value;
                }
            }
            // 框选多选
            _initBoxSelection() {
                let isSelecting = false;
                let startX = 0, startY = 0;
                let selectionBox = null;
                const previewBox = this.previewBox;
                previewBox.addEventListener('mousedown', (e) => {
                    if (e.button !== 0) return;
                    if (e.target !== previewBox) return;
                    isSelecting = true;
                    startX = e.offsetX;
                    startY = e.offsetY;
                    selectionBox = document.createElement('div');
                    selectionBox.style.position = 'absolute';
                    selectionBox.style.left = startX + 'px';
                    selectionBox.style.top = startY + 'px';
                    selectionBox.style.width = '0px';
                    selectionBox.style.height = '0px';
                    selectionBox.style.border = '1.5px dashed #667eea';
                    selectionBox.style.background = 'rgba(102,126,234,0.08)';
                    selectionBox.style.pointerEvents = 'none';
                    selectionBox.style.zIndex = 1000;
                    previewBox.appendChild(selectionBox);
                    document.body.style.userSelect = 'none';
                });
                document.addEventListener('mousemove', (e) => {
                    if (!isSelecting) return;
                    const boxRect = previewBox.getBoundingClientRect();
                    const mouseX = e.clientX - boxRect.left;
                    const mouseY = e.clientY - boxRect.top;
                    const x = Math.min(startX, mouseX);
                    const y = Math.min(startY, mouseY);
                    const w = Math.abs(mouseX - startX);
                    const h = Math.abs(mouseY - startY);
                    selectionBox.style.left = x + 'px';
                    selectionBox.style.top = y + 'px';
                    selectionBox.style.width = w + 'px';
                    selectionBox.style.height = h + 'px';
                });
                document.addEventListener('mouseup', (e) => {
                    if (!isSelecting) return;
                    isSelecting = false;
                    const boxRect = previewBox.getBoundingClientRect();
                    const x1 = Math.min(startX, e.clientX - boxRect.left);
                    const y1 = Math.min(startY, e.clientY - boxRect.top);
                    const x2 = Math.max(startX, e.clientX - boxRect.left);
                    const y2 = Math.max(startY, e.clientY - boxRect.top);
                    // 判断哪些字被框选
                    const selected = [];
                    for (let i = 0; i < previewBox.children.length; i++) {
                        const span = previewBox.children[i];
                        if (!span.classList.contains('preview-char')) continue;
                        const rect = span.getBoundingClientRect();
                        const px = rect.left - boxRect.left + rect.width/2;
                        const py = rect.top - boxRect.top + rect.height/2;
                        if (px >= x1 && px <= x2 && py >= y1 && py <= y2) {
                            selected.push(parseInt(span.getAttribute('data-index')));
                        }
                    }
                    this.selectedCharIndices = selected;
                    this.updateCharStyleControlsState();
                    this.updatePreviewBox();
                    this.showCharStyleControls();
                    if (selectionBox) selectionBox.remove();
                    document.body.style.userSelect = '';
                });
            }
            updateCharSelector() {
                // 渲染左侧字符选择器
                const text = this.previewInput.value || '';
                this.charSelector.innerHTML = '';
                for (let i = 0; i < text.length; i++) {
                    const btn = document.createElement('button');
                    btn.className = 'char-btn';
                    btn.setAttribute('data-index', i);
                    btn.type = 'button';
                    btn.textContent = text[i] === ' ' ? '␣' : text[i];
                    if (this.selectedCharIndices.includes(i)) {
                        btn.classList.add('selected');
                    }
                    this.charSelector.appendChild(btn);
                }
            }
            // 撤销功能
            pushUndo() {
                this.undoStack.push({
                    charStyles: deepCopy(this.charStyles),
                    selectedCharIndices: deepCopy(this.selectedCharIndices),
                    groupScale: this.groupScale
                });
                if (this.undoStack.length > 100) this.undoStack.shift();
            }
            undo() {
                if (this.undoStack.length === 0) return;
                const prev = this.undoStack.pop();
                this.charStyles = deepCopy(prev.charStyles);
                this.selectedCharIndices = deepCopy(prev.selectedCharIndices);
                this.groupScale = prev.groupScale || 1;
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            // 框选辅助
            showSelectionRect() {
                if (!this.selectionRect) {
                    this.selectionRect = document.createElement('div');
                    this.selectionRect.className = 'selection-rect';
                    // 设置自定义虚线样式：使用更长的虚线
                    this.selectionRect.style.background = 'transparent';
                    // 使用outline创建虚线效果
                    this.selectionRect.style.outline = '2px dashed #5888E7';
                    this.selectionRect.style.outlineOffset = '0px';
                    this.previewBox.appendChild(this.selectionRect);
                }
                const x1 = Math.min(this.boxSelectStart.x, this.boxSelectEnd.x);
                const y1 = Math.min(this.boxSelectStart.y, this.boxSelectEnd.y);
                const x2 = Math.max(this.boxSelectStart.x, this.boxSelectEnd.x);
                const y2 = Math.max(this.boxSelectStart.y, this.boxSelectEnd.y);
                this.selectionRect.style.left = x1 + 'px';
                this.selectionRect.style.top = y1 + 'px';
                this.selectionRect.style.width = (x2 - x1) + 'px';
                this.selectionRect.style.height = (y2 - y1) + 'px';
            }
            hideSelectionRect() {
                if (this.selectionRect) {
                    this.selectionRect.remove();
                    this.selectionRect = null;
                }
            }
            handleBoxSelect() {
                const rect = this.previewBox.getBoundingClientRect();
                const x1 = Math.min(this.boxSelectStart.x, this.boxSelectEnd.x);
                const y1 = Math.min(this.boxSelectStart.y, this.boxSelectEnd.y);
                const x2 = Math.max(this.boxSelectStart.x, this.boxSelectEnd.x);
                const y2 = Math.max(this.boxSelectStart.y, this.boxSelectEnd.y);
                const selected = [];
                for (let i = 0; i < this.previewBox.children.length; i++) {
                    const span = this.previewBox.children[i];
                    if (!span.classList.contains('preview-char')) continue;
                    const srect = span.getBoundingClientRect();
                    const px1 = srect.left - rect.left;
                    const py1 = srect.top - rect.top;
                    const px2 = px1 + srect.width;
                    const py2 = py1 + srect.height;
                    if (px2 > x1 && px1 < x2 && py2 > y1 && py1 < y2) {
                        selected.push(parseInt(span.getAttribute('data-index')));
                    }
                }
                if (selected.length > 0) {
                    this.selectedCharIndices = selected;
                    this.groupScale = 1;
                    this.showGroupScaleBar();
                } else {
                    this.selectedCharIndices = [];
                    this.hideGroupScaleBar();
                }
                this.updateCharStyleControlsState();
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            showGroupScaleBar() {
                this.hideGroupScaleBar();
                if (!this.selectedCharIndices || this.selectedCharIndices.length < 2) return;
                const bar = document.createElement('div');
                bar.className = 'group-scale-bar';
                bar.innerHTML = `<span>整体缩放</span><input type="range" min="0.2" max="3" step="0.01" value="${this.groupScale}"><span id="groupScaleVal">${(this.groupScale*100).toFixed(0)}%</span>`;
                bar.querySelector('input').addEventListener('input', (e) => {
                    const scale = parseFloat(e.target.value);
                    this.groupScale = scale;
                    this.applyGroupScale();
                    bar.querySelector('#groupScaleVal').textContent = (scale*100).toFixed(0) + '%';
                });
                this.previewBox.appendChild(bar);
            }
            hideGroupScaleBar() {
                const bar = this.previewBox.querySelector('.group-scale-bar');
                if (bar) bar.remove();
            }
            applyGroupScale() {
                if (!this.selectedCharIndices || this.selectedCharIndices.length < 2) return;
                this.pushUndo();
                // 以选区中心为锚点整体缩放
                const indices = this.selectedCharIndices;
                let cx = 0, cy = 0;
                for (const idx of indices) {
                    cx += this.charStyles[idx].x;
                    cy += this.charStyles[idx].y;
                }
                cx /= indices.length;
                cy /= indices.length;
                for (const idx of indices) {
                    const style = this.charStyles[idx];
                    style.size = (style.size || 135) * this.groupScale;
                    // 缩放时保持相对中心的距离
                    style.x = cx + (style.x - cx) * this.groupScale;
                    style.y = cy + (style.y - cy) * this.groupScale;
                }
                this.updatePreviewBox();
            }

            renderCurrentFonts() {
                if (!this.currentFonts) return;
                console.log('开始渲染字体列表，当前uploadedFonts:', this.uploadedFonts);
                
                let html = '<div class="current-fonts-list" id="fontListContainer">';
                
                // 按时间戳排序，最新的在前面
                const sortedFonts = [...this.uploadedFonts].sort((a, b) => {
                    // 从显示名称中提取时间戳进行比较
                    const getTimestamp = (displayName) => {
                        const match = displayName.match(/^(\d{6})_/);
                        return match ? match[1] : '000000';
                    };
                    
                    const timestampA = getTimestamp(a.originalName || '');
                    const timestampB = getTimestamp(b.originalName || '');
                    
                    // 降序排列，最新的在前面
                    return timestampB.localeCompare(timestampA);
                });
                
                // 显示排序后的字体
                for (let i = 0; i < sortedFonts.length; i++) {
                    const font = sortedFonts[i];
                    console.log(`渲染字体: ${font.name}`);
                    
                    // 根据索引确定颜色：0=蓝色, 1=红色, 2=绿色, 然后循环
                    const colorIndex = i % 3;
                    let lineColor;
                    switch(colorIndex) {
                        case 0:
                            lineColor = '#5888E7'; // 蓝色
                            break;
                        case 1:
                            lineColor = '#CA3D2B'; // 红色
                            break;
                        case 2:
                            lineColor = '#33846B'; // 绿色
                            break;
                        default:
                            lineColor = '#33846B';
                    }
                    
                    // 显示带时间戳的原始文件名
                    const displayName = font.originalName || font.name;
                    html += `<div class="current-font-item" style="width:340.2px;height:115.2px;position:relative;border-radius:0px;background:rgba(248,248,248,1);overflow:visible;box-sizing:border-box;">
                        <div class="font-content-area" style="width:266.4px;height:100%;position:relative;cursor:pointer;padding:0;box-sizing:border-box;" onclick="document.fontUploader.applyFontToSelection('${font.name}')">
                            <div class="font-text-group" style="position:absolute;top:calc(50% - 2px);left:22.5px;transform:translateY(-50%);display:flex;flex-direction:column;gap:6px;">
                                <span class="current-font-sample" style="font-family:'${font.name}',Inter,sans-serif;font-size:36px;color:rgba(0,0,0,1);white-space:nowrap;line-height:normal;">AaBbCc123</span>
                                <div class="font-original-name" style="font-size:13px;color:rgba(0,0,0,1);font-family:Inter,sans-serif;white-space:nowrap;line-height:normal;">(${displayName})</div>
                            </div>
                        </div>
                        <div class="font-action-area" style="position:absolute;right:0;top:0;width:73.8px;height:100%;background:rgba(248,248,248,1);display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;border-radius:0 5.4px 5.4px 0;">
                            <div class="font-separator-line" style="position:absolute;left:0;top:11.68px;width:2px;height:90px;background:#33846B;"></div>
                            <div class="font-preview-btn" style="width:100%;height:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0 15.3px;box-sizing:border-box;" onclick="document.fontUploader.applyFontToSelection('${font.name}')">
                                <span style="font-size:18.9px;color:rgba(0,0,0,1);font-family:Inter,sans-serif;white-space:nowrap;line-height:normal;">预览</span>
                            </div>
                            <div class="font-separator-horizontal" style="position:absolute;left:0;top:50%;width:100%;height:2px;background:#33846B;transform:translateY(-50%);"></div>
                            <div class="font-download-btn" style="width:100%;height:50%;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:0 15.3px;box-sizing:border-box;" onclick="window.open('${font.url}', '_blank')">
                                <span style="font-size:18.9px;color:rgba(0,0,0,1);font-family:Inter,sans-serif;white-space:nowrap;line-height:normal;">下载</span>
                            </div>
                        </div>
                        <div class="font-line" style="position:absolute;bottom:0;left:0;width:340.2px;height:2px;background:#33846B;border-radius:0px;z-index:1000;"></div>
                    </div>`;
                }
                
                // 如果没有上传的字体，显示提示信息
                if (this.uploadedFonts.length === 0) {
                    // 检查是否有加载错误
                    const hasLoadError = this.loadError || false;
                    const mainText = hasLoadError ? '无法从Supabase加载字体' : '正在从Supabase中加载字体';
                    const subText = hasLoadError ? '请检查网络连接或稍后重试' : '请稍候...';
                    
                    html += `<div style="text-align:center;color:#666;padding:20px;font-size:0.95em;">
                        ${mainText}<br/>
                        <span style="font-size:0.95em;color:#666;">${subText}</span>
                    </div>`;
                }
                
                html += '</div>';
                
                this.currentFonts.innerHTML = html;
                
                // 添加导航箭头到currentFonts容器
                this.currentFonts.innerHTML += '<div class="font-nav-arrow up" id="fontNavUp" style="font-size: 21px;">▲</div>';
                this.currentFonts.innerHTML += '<div class="font-nav-arrow down" id="fontNavDown" style="font-size: 21px;">▼</div>';
                
                // 初始化导航箭头
                this.initFontNavigation();
            }

            
            applyFontToSelection(fontName) {
                this.pushUndo();
                
                if (!this.selectedCharIndices || this.selectedCharIndices.length === 0) {
                    // 如果没有选中字符，将字体应用到所有现有字符
                    const text = this.previewInput.value || '';
                    for (let i = 0; i < text.length; i++) {
                        if (this.charStyles[i]) {
                            this.charStyles[i].font = fontName;
                        }
                    }
                } else {
                    // 只对选中的字符应用字体
                    for (const idx of this.selectedCharIndices) {
                        if (this.charStyles[idx]) {
                            this.charStyles[idx].font = fontName;
                        }
                    }
                }
                this.updatePreviewBox();
                this.showCharStyleControls();
            }
            
            async loadExistingFonts() {
                try {
                    // 清除加载错误标志
                    this.loadError = false;
                    // 更新同步状态为"同步中"
                    this.updateSyncStatus('同步中...', '#ffa500');
                    console.log('=== 开始加载Supabase中的现有字体 ===');
                    console.log('Supabase客户端状态:', window.supabase ? '已初始化' : '未初始化');
                    
                    if (!window.supabase) {
                        console.error('Supabase客户端未初始化，等待1秒后重试...');
                        setTimeout(() => this.loadExistingFonts(), 1000);
                        return;
                    }
                    
                    // 从Supabase存储中列出所有字体文件
                    console.log('正在从Supabase获取文件列表...');
                    const { data, error } = await window.supabase.storage
                        .from('82fonts')
                        .list('', {
                            limit: 100,
                            offset: 0
                        });
                    
                    console.log('Supabase响应:', { data, error });
                    console.log('data内容:', data);
                    
                    if (error) {
                        console.error('Failed to load existing fonts:', error);
                        this.loadError = true;
                        this.showError('加载Supabase字体失败: ' + error.message);
                        this.updateSyncStatus('同步失败', '#ff4444');
                        this.renderCurrentFonts(); // 重新渲染以显示错误状态
                        return;
                    }
                    
                    if (!data || data.length === 0) {
                        console.log('No existing fonts found in Supabase');
                        console.log('data:', data);
                        this.updateSyncStatus('同步成功', '#51cf66');
                        return;
                    }
                    
                    console.log('所有文件列表:', data);
                    
                    // 过滤出字体文件（.otf和.ttf）
                    const fontFiles = data.filter(file => 
                        file.name.toLowerCase().endsWith('.otf') || 
                        file.name.toLowerCase().endsWith('.ttf')
                    );
                    
                    console.log(`找到 ${fontFiles.length} 个字体文件:`, fontFiles);
                    
                    if (fontFiles.length === 0) {
                        console.log('No font files found in Supabase');
                        console.log('所有文件都不是字体格式');
                        this.updateSyncStatus('同步成功', '#51cf66');
                        return;
                    }
                    
                    // 按时间戳排序字体文件，最新的在前面
                    const sortedFontFiles = fontFiles.sort((a, b) => {
                        const getTimestamp = (filename) => {
                            const match = filename.match(/^(\d{6})_/);
                            return match ? match[1] : '000000';
                        };
                        
                        const timestampA = getTimestamp(a.name);
                        const timestampB = getTimestamp(b.name);
                        
                        // 降序排列，最新的在前面
                        return timestampB.localeCompare(timestampA);
                    });
                    
                    // 处理每个字体文件
                    let loadedCount = 0;
                    for (const file of sortedFontFiles) {
                        try {
                            console.log(`正在处理字体文件: ${file.name}`);
                            
                            // 构建字体URL
                            const url = `https://ujhfluevvppgkyuazqjn.supabase.co/storage/v1/object/public/82fonts/${file.name}`;
                            console.log(`字体URL: ${url}`);
                            
                            // 提取字体名称 - 使用实际文件名（去除时间戳）
                            let actualFileName = file.name;
                            if (/^\d{6}_/.test(file.name)) {
                                const match = file.name.match(/^\d{6}_(.+)$/);
                                actualFileName = match ? match[1] : file.name;
                            }
                            const fontName = this.extractFontName(actualFileName);
                            console.log(`提取的字体名称: ${fontName}`);
                            
                            // 检查是否已经存在
                            if (this.uploadedFonts.some(f => f.name === fontName)) {
                                console.log(`Font ${fontName} already exists, skipping`);
                                continue;
                            }
                            
                            // 注册字体到CSS
                            console.log(`注册字体: ${fontName}`);
                            this.registerFont(fontName, url, file.name.toLowerCase().endsWith('.otf') ? 'font/otf' : 'font/ttf');
                            
                            // 添加到上传字体列表
                            // 检查文件名是否包含时间戳格式
                            const hasTimestamp = /^\d{6}_/.test(file.name);
                            let displayName, actualFileNameForDisplay;
                            
                            if (hasTimestamp) {
                                // 如果文件名包含时间戳，提取实际文件名
                                const match = file.name.match(/^\d{6}_(.+)$/);
                                actualFileNameForDisplay = match ? match[1] : file.name;
                                displayName = file.name; // 保持带时间戳的显示名称
                            } else {
                                // 如果文件名不包含时间戳，生成显示用的时间戳
                                const now = new Date();
                                const year = now.getFullYear().toString().slice(-2);
                                const month = String(now.getMonth() + 1).padStart(2, '0');
                                const day = String(now.getDate()).padStart(2, '0');
                                const datePrefix = `${year}${month}${day}`;
                                displayName = `${datePrefix}_${file.name}`;
                                actualFileNameForDisplay = file.name;
                            }
                            
                            const fontInfo = {
                                name: fontName,
                                url: url,
                                format: this.getFontFormatFromName(file.name),
                                originalName: displayName, // 保存带时间戳的显示名称
                                actualFileName: actualFileNameForDisplay, // 保存实际文件名
                                size: this.formatFileSize(file.metadata?.size || 0)
                            };
                            this.uploadedFonts.push(fontInfo);
                            console.log(`添加到uploadedFonts:`, fontInfo);
                            
                            // 不再使用opentype.js解析字体，只通过CSS应用
                            
                            loadedCount++;
                            console.log(`已处理 ${loadedCount} 个字体`);
                            
                        } catch (error) {
                            console.error(`Failed to process font ${file.name}:`, error);
                        }
                    }
                    
                    console.log(`总共加载了 ${loadedCount} 个字体`);
                    console.log('当前uploadedFonts数组:', this.uploadedFonts);
                    
                    // 更新界面
                    console.log('开始更新界面...');
                    this.renderCurrentFonts();
                    this.updateCharFontSelect();
                    this.updatePreviewBox();
                    
                    console.log(`Successfully loaded ${loadedCount} existing fonts`);
                    
                    // 更新同步状态为成功
                    this.updateSyncStatus('同步成功', '#51cf66');
                    
                    // 移除加载成功弹窗
                    
                } catch (error) {
                    console.error('Error loading existing fonts:', error);
                    this.loadError = true;
                    this.showError('加载Supabase字体时发生错误: ' + error.message);
                    this.updateSyncStatus('同步失败', '#ff4444');
                    this.renderCurrentFonts(); // 重新渲染以显示错误状态
                }
                
                // 返回Promise以支持链式调用
                return Promise.resolve();
            }
            
            getFontFormatFromName(filename) {
                if (filename.toLowerCase().endsWith('.otf')) return 'OTF';
                if (filename.toLowerCase().endsWith('.ttf')) return 'TTF';
                return '未知';
            }
            
            // 初始化字体导航箭头
            initFontNavigation() {
                const container = document.getElementById('fontListContainer');
                const upArrow = document.getElementById('fontNavUp');
                const downArrow = document.getElementById('fontNavDown');
                
                if (!container || !upArrow || !downArrow) return;
                
                // 检查是否需要显示箭头
                const updateArrowVisibility = () => {
                    const scrollTop = container.scrollTop;
                    const scrollHeight = container.scrollHeight;
                    const clientHeight = container.clientHeight;
                    
                    console.log('Scroll check:', {
                        scrollTop: scrollTop,
                        scrollHeight: scrollHeight,
                        clientHeight: clientHeight,
                        scrollTopPlusClientHeight: scrollTop + clientHeight,
                        isAtBottom: scrollTop + clientHeight >= scrollHeight,
                        isAtTop: scrollTop <= 0
                    });
                    
                    // 上箭头：在顶部时隐藏
                    if (scrollTop <= 0) {
                        upArrow.classList.add('hidden');
                        console.log('Up arrow hidden');
                    } else {
                        upArrow.classList.remove('hidden');
                        console.log('Up arrow shown');
                    }
                    
                    // 下箭头：在底部时隐藏（添加1px的容差）
                    if (scrollTop + clientHeight >= scrollHeight - 1) {
                        downArrow.classList.add('hidden');
                        console.log('Down arrow hidden');
                    } else {
                        downArrow.classList.remove('hidden');
                        console.log('Down arrow shown');
                    }
                };
                
                // 点击上箭头
                upArrow.addEventListener('click', () => {
                    container.scrollBy({
                        top: -200,
                        behavior: 'smooth'
                    });
                    // 滚动完成后重新检查箭头状态
                    setTimeout(() => {
                        updateArrowVisibility();
                    }, 300);
                });
                
                // 点击下箭头
                downArrow.addEventListener('click', () => {
                    container.scrollBy({
                        top: 200,
                        behavior: 'smooth'
                    });
                    // 滚动完成后重新检查箭头状态
                    setTimeout(() => {
                        updateArrowVisibility();
                    }, 300);
                });
                
                // 监听滚动事件
                container.addEventListener('scroll', updateArrowVisibility);
                
                // 初始化箭头状态
                updateArrowVisibility();
            }
            
            // 预加载82KVfont.otf字体
            preloadSerifFont() {
                return new Promise((resolve) => {
                    // 检查82KVfont是否已经在uploadedFonts中
                    const defaultFont = this.uploadedFonts.find(font => font.name === '82KVfont');
                    if (defaultFont) {
                        // 如果已经存在，直接使用CSS @font-face
                        console.log('82KVfont字体已通过CSS @font-face加载');
                        // 强制刷新预览
                        this.syncCharStylesWithText();
                        this.updatePreviewBox();
                        resolve();
                    } else {
                        // 如果不在uploadedFonts中，82KVfont已经通过CSS @font-face内置了
                        console.log('82KVfont字体已通过CSS @font-face内置加载');
                        // 强制刷新预览
                        this.syncCharStylesWithText();
                        this.updatePreviewBox();
                        resolve();
                    }
                });
            }
            
            // 测试方法，可以在控制台调用
            testSupabaseConnection() {
                console.log('测试Supabase连接...');
                console.log('window.supabase:', window.supabase);
                if (window.supabase) {
                    window.supabase.storage.from('82fonts').list('').then(({data, error}) => {
                        console.log('测试结果:', {data, error});
                    });
                }
            }

            // 检测文件名是否包含中文字符
            isChineseFileName(filename) {
                return /[\u4e00-\u9fff]/.test(filename);
            }
            
            async handleFiles(files) {
                if (!files || files.length === 0) return;
                this.hideMessages();
                
                const validFiles = Array.from(files).filter(file => {
                    // 首先检查是否为中文文件名
                    if (this.isChineseFileName(file.name)) {
                        this.showError(`无法上传中文命名的文件: ${file.name}`);
                        return false;
                    }
                    
                    const isValid = file.type === 'font/otf' || file.type === 'font/ttf' || file.name.toLowerCase().endsWith('.otf') || file.name.toLowerCase().endsWith('.ttf');
                    if (!isValid) {
                        this.showError(`不支持的格式: ${file.name}，仅支持 OTF 和 TTF`);
                    }
                    return isValid;
                });
                
                if (validFiles.length === 0) {
                    return;
                }
                
                let processedFiles = 0;
                const totalFiles = validFiles.length;
                
                for (const file of validFiles) {
                    try {
                        // 使用新的上传功能
                        // 保持原始文件名，不添加时间戳
                        const filename = file.name;
                        const { data, error } = await window.supabase.storage
                            .from('82fonts')
                            .upload(filename, file);
                            
                        if (error) {
                            throw new Error(error.message);
                        }
                        
                        // 获取上传后的URL
                        const url = `https://ujhfluevvppgkyuazqjn.supabase.co/storage/v1/object/public/82fonts/${filename}`;
                        
                        // 处理字体文件
                        const fontName = this.extractFontName(file.name);
                        this.registerFont(fontName, url, file.type);
                        
                        // 生成显示用的时间戳（仅用于显示）
                        const now = new Date();
                        const year = now.getFullYear().toString().slice(-2); // 年份后两位
                        const month = String(now.getMonth() + 1).padStart(2, '0'); // 月份，补零
                        const day = String(now.getDate()).padStart(2, '0'); // 日期，补零
                        const datePrefix = `${year}${month}${day}`; // 如：250728
                        const displayName = `${datePrefix}_${file.name}`; // 仅用于显示
                        
                        this.uploadedFonts.push({
                            name: fontName,
                            url: url,
                            format: this.getFontFormat(file),
                            originalName: displayName, // 保存带时间戳的显示名称
                            actualFileName: filename, // 保存实际文件名（无时间戳）
                            size: this.formatFileSize(file.size)
                        });
                        
                        // 不再使用opentype.js解析字体，只通过CSS应用
                        
                        processedFiles++;
                        
                    } catch (error) {
                        this.showError(`处理失败 ${file.name}: ${error.message}`);
                    }
                }
                
                // 只有在真正有文件成功上传时才显示成功提示框
                if (processedFiles > 0) {
                    this.showSuccess(`${processedFiles} 个字体上传成功!`);
                }
                this.updateCharFontSelect();
                
                this.updatePreviewBox();
                this.renderCurrentFonts();
            }
            
            // 自定义光标方法
            createCustomCursor() {
                console.log('创建自定义光标');
                
                if (this.customCursor) {
                    this.removeCustomCursor();
                }
                
                this.customCursor = document.createElement('div');
                this.customCursor.className = 'custom-cursor';
                this.previewInput.parentNode.style.position = 'relative';
                this.previewInput.parentNode.appendChild(this.customCursor);
                
                console.log('光标元素已创建:', this.customCursor);
                console.log('光标父元素:', this.previewInput.parentNode);
                
                // 延迟一帧再更新位置，确保DOM已完全渲染
                requestAnimationFrame(() => {
                    this.updateCustomCursor();
                });
            }
            
            removeCustomCursor() {
                if (this.customCursor) {
                    this.customCursor.remove();
                    this.customCursor = null;
                }
            }
            
            updateCustomCursor() {
                if (!this.customCursor || !this.previewInput) return;
                
                console.log('更新自定义光标位置');
                
                // 获取输入框的样式
                const inputStyle = window.getComputedStyle(this.previewInput);
                
                // 创建一个临时元素来计算光标位置
                const temp = document.createElement('span');
                temp.style.cssText = inputStyle.cssText;
                temp.style.position = 'absolute';
                temp.style.visibility = 'hidden';
                temp.style.whiteSpace = 'pre';
                temp.style.font = inputStyle.font;
                temp.style.padding = inputStyle.padding;
                temp.style.border = inputStyle.border;
                temp.style.boxSizing = inputStyle.boxSizing;
                temp.textContent = this.previewInput.value.substring(0, this.previewInput.selectionStart);
                
                this.previewInput.parentNode.appendChild(temp);
                
                const tempRect = temp.getBoundingClientRect();
                const inputRect = this.previewInput.getBoundingClientRect();
                const parentRect = this.previewInput.parentNode.getBoundingClientRect();
                
                this.previewInput.parentNode.removeChild(temp);
                
                // 计算光标位置 - 相对于父容器，向左偏移12px
                const left = tempRect.width + (inputRect.left - parentRect.left) - this.previewInput.scrollLeft - 12;
                const top = (inputRect.top - parentRect.top) + (inputRect.height - 22) / 2;
                
                console.log('光标位置计算:', {
                    tempRectWidth: tempRect.width,
                    inputRectLeft: inputRect.left,
                    parentRectLeft: parentRect.left,
                    scrollLeft: this.previewInput.scrollLeft,
                    calculatedLeft: left,
                    calculatedTop: top,
                    selectionStart: this.previewInput.selectionStart,
                    inputValue: this.previewInput.value
                });
                
                this.customCursor.style.left = left + 'px';
                this.customCursor.style.top = top + 'px';
                
                console.log('光标样式已应用: left: ' + left + 'px; top: ' + top + 'px;');
            }
            
            // 初始化隐藏的字符选择器
            initializeHiddenCharSelector() {
                console.log('初始化隐藏的字符选择器');
                // 这里可以添加任何需要的初始化逻辑
                // 目前字符选择器功能已经通过updateCharSelector方法自动更新
            }
            
            // 初始化隐藏的字体选择器
            initializeHiddenFontSelector() {
                console.log('初始化隐藏的字体选择器');
                // 字体选择器功能已经通过updateCharFontSelect方法自动更新
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            document.fontUploader = new FontUploader();
            
            // 强制刷新样式
            console.log('=== 调试信息 ===');
            console.log('当前窗口宽度:', window.innerWidth);
            console.log('左侧面板宽度:', document.querySelector('.left-panel')?.offsetWidth);
            console.log('上传区域宽度:', document.querySelector('.upload-area')?.offsetWidth);
            console.log('右侧面板宽度:', document.querySelector('.main-right-panel')?.offsetWidth);
            console.log('字体列表项数量:', document.querySelectorAll('.current-font-item').length);
            
            // 检查CSS样式
            const leftPanel = document.querySelector('.left-panel');
            if (leftPanel) {
                const styles = window.getComputedStyle(leftPanel);
                console.log('左侧面板CSS宽度:', styles.width);
                console.log('左侧面板CSS最大宽度:', styles.maxWidth);
            }
            
            // 检查字体列表项样式
            const fontItems = document.querySelectorAll('.current-font-item');
            console.log('找到字体列表项数量:', fontItems.length);
            if (fontItems.length > 0) {
                const styles = window.getComputedStyle(fontItems[0]);
                console.log('字体列表项宽度:', styles.width);
                console.log('字体列表项高度:', styles.height);
                console.log('字体列表项背景色:', styles.backgroundColor);
                console.log('字体列表项边框:', styles.border);
                console.log('字体列表项圆角:', styles.borderRadius);
                console.log('字体列表项HTML:', fontItems[0].outerHTML);
            }
            
            // 强制重新计算样式
            document.body.style.display = 'none';
            document.body.offsetHeight; // 触发重排
            document.body.style.display = '';
            
            // 强制重新渲染字体列表
            if (document.fontUploader && document.fontUploader.uploadedFonts.length > 0) {
                console.log('强制重新渲染字体列表...');
                document.fontUploader.renderCurrentFonts();
            }
        });
        // 获取缩放手柄对应的鼠标样式
        function getResizeCursor(corner) {
            switch (corner) {
                case 'nw': return 'nwse-resize';
                case 'se': return 'nwse-resize';
                case 'ne': return 'nesw-resize';
                case 'sw': return 'nesw-resize';
                default: return 'nwse-resize';
            }
        }
    </script>
</body>
</html>
